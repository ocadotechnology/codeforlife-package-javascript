"use strict";const l=require("./jsx-runtime-CeSfJrVB.cjs"),E=require("@mui/material"),b=require("react"),Ue=require("./urls-D-pIgqoF.cjs"),Ve=require("./api-DIgp_6Vr.cjs"),_=require("formik"),A=require("yup"),R=require("./form-C2-X_LWH.cjs"),O=require("./general-CWsWbQnR.cjs");require("./en-gb-CpyEkKq3.cjs");const xe=require("@mui/x-date-pickers"),D=require("dayjs"),re=require("@mui/icons-material");require("@reduxjs/toolkit/query/react");require("js-cookie");const $e=require("./schemas-DKBhdVCF.cjs"),De=({useLazyListQuery:a,filterOptions:i,getOptionLabel:n,getOptionKey:e=o=>o.id,searchKey:t,...r})=>{const[o,u]=b.useState(""),[s,{isLoading:h,isError:c}]=a(),[{limit:x,offset:g},y]=Ve.usePagination(),[{options:Y,hasMore:M},f]=b.useState({options:{},hasMore:!0});b.useEffect(()=>{const j={limit:x,offset:g,...i};o&&(j[t]=o),s(j,!0).unwrap().then(({data:T,offset:C,limit:w,count:F})=>{f(({options:k})=>{const v={...k};return T.forEach(L=>{v[e(L)]=L}),{options:v,hasMore:C+w<F}})}).catch(T=>{T&&console.error(T)})},[s,x,g,t,o,...Object.values(i||{})]);let d=Object.keys(Y);if(!d.length)return l.jsxRuntimeExports.jsx(l.jsxRuntimeExports.Fragment,{});typeof e(Object.values(Y)[0])=="number"&&(d=d.map(Number));function m(){y(({page:j,limit:T})=>({page:j+1,limit:T}))}const p=({children:j,...T},C)=>{const w=b.Children.toArray(j);return h?w.push(l.jsxRuntimeExports.jsx(E.CircularProgress,{},"is-loading")):(c&&w.push(l.jsxRuntimeExports.jsx(Ue.SyncError,{},"is-error")),M&&w.push(l.jsxRuntimeExports.jsx(E.Button,{onClick:m,children:"Load more"},"load-more"))),l.jsxRuntimeExports.jsx("ul",{...T,ref:C,onScroll:F=>{!h&&F.currentTarget.clientHeight+F.currentTarget.scrollTop>=F.currentTarget.scrollHeight&&m()},children:w})};return l.jsxRuntimeExports.jsx(q,{options:d,getOptionLabel:j=>n(Y[j]),onInputChange:(j,T,C)=>{u(C==="input"?T:"")},ListboxComponent:b.forwardRef(p),...r})},q=({textFieldProps:a,options:i,validateOptions:n,...e})=>{const{id:t,name:r,required:o,...u}=a,s=r.split("."),h="not a valid option";let c=typeof i[0]=="string"?A.string().oneOf(i,h):A.number().oneOf(i,h);o&&(c=c.required());const x={name:r,type:typeof i[0]=="string"?"text":"number",validate:R.schemaToFieldValidator(c,n)};return l.jsxRuntimeExports.jsx(_.Field,{...x,children:({form:g,meta:y})=>{const Y=O.getNestedProperty(g.values,s),M=O.getNestedProperty(g.touched,s),f=O.getNestedProperty(g.errors,s);return l.jsxRuntimeExports.jsx(E.Autocomplete,{options:i,defaultValue:y.initialValue===""?void 0:y.initialValue,renderInput:({id:d,...m})=>l.jsxRuntimeExports.jsx(E.TextField,{id:t??r,name:r,required:o,type:"text",value:Y,error:M&&!!f,helperText:M&&f,...u,...m}),onChange:(d,m)=>{g.setFieldValue(r,m??void 0,!0)},onBlur:g.handleBlur,...e})}})},Ee=({id:a,name:i,formControlLabelProps:n,required:e=!1,errorMessage:t="this is a required field",validateOptions:r,...o})=>{const u=i.split(".");let s=A.bool();e&&(s=s.oneOf([!0],t));const h={name:i,type:"checkbox",validate:R.schemaToFieldValidator(s,r)};return l.jsxRuntimeExports.jsx(_.Field,{...h,children:({form:c,meta:x})=>{const g=O.getNestedProperty(c.touched,u),y=O.getNestedProperty(c.errors,u),Y=O.getNestedProperty(c.values,u),M=g&&!!y;return l.jsxRuntimeExports.jsxs(E.FormControl,{error:M,required:e,children:[l.jsxRuntimeExports.jsx(E.FormControlLabel,{control:l.jsxRuntimeExports.jsx(E.Checkbox,{defaultChecked:x.initialValue,id:a??i,name:i,value:Y,onChange:c.handleChange,onBlur:c.handleBlur,...o}),...n}),M&&l.jsxRuntimeExports.jsx(E.FormHelperText,{children:y})]})}})},Fe=({textFieldProps:a,...i})=>{const{name:n="country",label:e="Country",placeholder:t="Select your country",...r}=a||{};return l.jsxRuntimeExports.jsx(q,{options:O.COUNTRY_ISO_CODES,getOptionLabel:o=>O.COUNTRY_ISO_CODE_MAPPING[o],textFieldProps:{name:n,label:e,placeholder:t,...r},...i})};function he(){return he=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)({}).hasOwnProperty.call(n,e)&&(a[e]=n[e])}return a},he.apply(null,arguments)}var Q={exports:{}},qe=Q.exports,ge;function He(){return ge||(ge=1,(function(a,i){(function(n,e){a.exports=e()})(qe,(function(){var n="week",e="year";return function(t,r,o){var u=r.prototype;u.week=function(s){if(s===void 0&&(s=null),s!==null)return this.add(7*(s-this.week()),"day");var h=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(e).add(1,e).date(h),x=o(this).endOf(n);if(c.isBefore(x))return 1}var g=o(this).startOf(e).date(h).startOf(n).subtract(1,"millisecond"),y=this.diff(g,n,!0);return y<0?o(this).startOf("week").week():Math.ceil(y)},u.weeks=function(s){return s===void 0&&(s=null),this.week(s)}}}))})(Q)),Q.exports}var We=He();const Ge=R.getDefaultExportFromCjs(We);var K={exports:{}},Ze=K.exports,ye;function Xe(){return ye||(ye=1,(function(a,i){(function(n,e){a.exports=e()})(Ze,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d/,r=/\d\d/,o=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,s={},h=function(f){return(f=+f)+(f>68?1900:2e3)},c=function(f){return function(d){this[f]=+d}},x=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=(function(d){if(!d||d==="Z")return 0;var m=d.match(/([+-]|\d\d)/g),p=60*m[1]+(+m[2]||0);return p===0?0:m[0]==="+"?-p:p})(f)}],g=function(f){var d=s[f];return d&&(d.indexOf?d:d.s.concat(d.f))},y=function(f,d){var m,p=s.meridiem;if(p){for(var j=1;j<=24;j+=1)if(f.indexOf(p(j,0,d))>-1){m=j>12;break}}else m=f===(d?"pm":"PM");return m},Y={A:[u,function(f){this.afternoon=y(f,!1)}],a:[u,function(f){this.afternoon=y(f,!0)}],Q:[t,function(f){this.month=3*(f-1)+1}],S:[t,function(f){this.milliseconds=100*+f}],SS:[r,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[r,c("day")],Do:[u,function(f){var d=s.ordinal,m=f.match(/\d+/);if(this.day=m[0],d)for(var p=1;p<=31;p+=1)d(p).replace(/\[|\]/g,"")===f&&(this.day=p)}],w:[o,c("week")],ww:[r,c("week")],M:[o,c("month")],MM:[r,c("month")],MMM:[u,function(f){var d=g("months"),m=(g("monthsShort")||d.map((function(p){return p.slice(0,3)}))).indexOf(f)+1;if(m<1)throw new Error;this.month=m%12||m}],MMMM:[u,function(f){var d=g("months").indexOf(f)+1;if(d<1)throw new Error;this.month=d%12||d}],Y:[/[+-]?\d+/,c("year")],YY:[r,function(f){this.year=h(f)}],YYYY:[/\d{4}/,c("year")],Z:x,ZZ:x};function M(f){var d,m;d=f,m=s&&s.formats;for(var p=(f=d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(v,L,z){var S=z&&z.toUpperCase();return L||m[z]||n[z]||m[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(B,N,I){return N||I.slice(1)}))}))).match(e),j=p.length,T=0;T<j;T+=1){var C=p[T],w=Y[C],F=w&&w[0],k=w&&w[1];p[T]=k?{regex:F,parser:k}:C.replace(/^\[|\]$/g,"")}return function(v){for(var L={},z=0,S=0;z<j;z+=1){var B=p[z];if(typeof B=="string")S+=B.length;else{var N=B.regex,I=B.parser,H=v.slice(S),V=N.exec(H)[0];I.call(L,V),v=v.replace(V,"")}}return(function(U){var W=U.afternoon;if(W!==void 0){var P=U.hours;W?P<12&&(U.hours+=12):P===12&&(U.hours=0),delete U.afternoon}})(L),L}}return function(f,d,m){m.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(h=f.parseTwoDigitYear);var p=d.prototype,j=p.parse;p.parse=function(T){var C=T.date,w=T.utc,F=T.args;this.$u=w;var k=F[1];if(typeof k=="string"){var v=F[2]===!0,L=F[3]===!0,z=v||L,S=F[2];L&&(S=F[2]),s=this.$locale(),!v&&S&&(s=m.Ls[S]),this.$d=(function(H,V,U,W){try{if(["x","X"].indexOf(V)>-1)return new Date((V==="X"?1e3:1)*H);var P=M(V)(H),se=P.year,G=P.month,Ae=P.day,Be=P.hours,Ne=P.minutes,_e=P.seconds,Ie=P.milliseconds,me=P.zone,pe=P.week,ne=new Date,ie=Ae||(se||G?1:ne.getDate()),oe=se||ne.getFullYear(),Z=0;se&&!G||(Z=G>0?G-1:ne.getMonth());var X,ae=Be||0,ue=Ne||0,ce=_e||0,de=Ie||0;return me?new Date(Date.UTC(oe,Z,ie,ae,ue,ce,de+60*me.offset*1e3)):U?new Date(Date.UTC(oe,Z,ie,ae,ue,ce,de)):(X=new Date(oe,Z,ie,ae,ue,ce,de),pe&&(X=W(X).week(pe).toDate()),X)}catch{return new Date("")}})(C,k,w,m),this.init(),S&&S!==!0&&(this.$L=this.locale(S).$L),z&&C!=this.format(k)&&(this.$d=new Date("")),s={}}else if(k instanceof Array)for(var B=k.length,N=1;N<=B;N+=1){F[1]=k[N-1];var I=m.apply(this,F);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}N===B&&(this.$d=new Date(""))}else j.call(this,T)}}}))})(K)),K.exports}var Qe=Xe();const Ke=R.getDefaultExportFromCjs(Qe);var J={exports:{}},Je=J.exports,je;function et(){return je||(je=1,(function(a,i){(function(n,e){a.exports=e()})(Je,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,t,r){var o=t.prototype,u=o.format;r.en.formats=n,o.format=function(s){s===void 0&&(s="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,c=(function(x,g){return x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(y,Y,M){var f=M&&M.toUpperCase();return Y||g[M]||n[M]||g[f].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(d,m,p){return m||p.slice(1)}))}))})(s,h===void 0?{}:h);return u.call(this,c)}}}))})(J)),J.exports}var tt=et();const rt=R.getDefaultExportFromCjs(tt);var ee={exports:{}},st=ee.exports,Me;function nt(){return Me||(Me=1,(function(a,i){(function(n,e){a.exports=e()})(st,(function(){return function(n,e,t){e.prototype.isBetween=function(r,o,u,s){var h=t(r),c=t(o),x=(s=s||"()")[0]==="(",g=s[1]===")";return(x?this.isAfter(h,u):!this.isBefore(h,u))&&(g?this.isBefore(c,u):!this.isAfter(c,u))||(x?this.isBefore(h,u):!this.isAfter(h,u))&&(g?this.isAfter(c,u):!this.isBefore(c,u))}}}))})(ee)),ee.exports}var it=nt();const ot=R.getDefaultExportFromCjs(it);var te={exports:{}},at=te.exports,Te;function ut(){return Te||(Te=1,(function(a,i){(function(n,e){a.exports=e()})(at,(function(){return function(n,e){var t=e.prototype,r=t.format;t.format=function(o){var u=this,s=this.$locale();if(!this.isValid())return r.bind(this)(o);var h=this.$utils(),c=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(x){switch(x){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return s.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return s.ordinal(u.week(),"W");case"w":case"ww":return h.s(u.week(),x==="w"?1:2,"0");case"W":case"WW":return h.s(u.isoWeek(),x==="W"?1:2,"0");case"k":case"kk":return h.s(String(u.$H===0?24:u.$H),x==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return x}}));return r.bind(this)(c)}}}))})(te)),te.exports}var ct=ut();const dt=R.getDefaultExportFromCjs(ct),Oe=new Set;function lt(a,i="warning"){if(process.env.NODE_ENV==="production")return;const n=Array.isArray(a)?a.join(`
`):a;Oe.has(n)||(Oe.add(n),i==="error"?console.error(n):console.warn(n))}D.extend(rt);D.extend(Ge);D.extend(ot);D.extend(dt);const ht={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},ft={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},le=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Ye=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),mt=(a,i)=>i?(...n)=>a(...n).locale(i):a;class pt{constructor({locale:i,formats:n}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=ht,this.setLocaleToValue=e=>{const t=this.getCurrentLocaleCode();return t===e.locale()?e:e.locale(t)},this.hasUTCPlugin=()=>typeof D.utc<"u",this.hasTimezonePlugin=()=>typeof D.tz<"u",this.isSame=(e,t,r)=>{const o=this.setTimezone(t,this.getTimezone(e));return e.format(r)===o.format(r)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return D.tz.guess();default:return e}},this.createSystemDate=e=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const t=D.tz.guess();return t!=="UTC"?D.tz(e,t):D(e)}return D(e)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(le);return D.utc(e)},this.createTZDate=(e,t)=>{if(!this.hasUTCPlugin())throw new Error(le);if(!this.hasTimezonePlugin())throw new Error(Ye);const r=e!==void 0&&!e.endsWith("Z");return D(e).tz(this.cleanTimezone(t),r)},this.getLocaleFormats=()=>{const e=D.Ls,t=this.locale||"en";let r=e[t];return r===void 0&&(process.env.NODE_ENV!=="production"&&lt(["MUI X: Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale.","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale."]),r=e.en),r.formats},this.adjustOffset=e=>{if(!this.hasTimezonePlugin())return e;const t=this.getTimezone(e);if(t!=="UTC"){const r=e.tz(this.cleanTimezone(t),!0);if(r.$offset===(e.$offset??0))return e;e.$offset=r.$offset}return e},this.date=(e,t="default")=>{if(e===null)return null;let r;return t==="UTC"?r=this.createUTCDate(e):t==="system"||t==="default"&&!this.hasTimezonePlugin()?r=this.createSystemDate(e):r=this.createTZDate(e,t),this.locale===void 0?r:r.locale(this.locale)},this.getInvalidDate=()=>D(new Date("Invalid date")),this.getTimezone=e=>{if(this.hasTimezonePlugin()){const t=e.$x?.$timezone;if(t)return t}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,t)=>{if(this.getTimezone(e)===t)return e;if(t==="UTC"){if(!this.hasUTCPlugin())throw new Error(le);return e.utc()}if(t==="system")return e.local();if(!this.hasTimezonePlugin()){if(t==="default")return e;throw new Error(Ye)}return D.tz(e,this.cleanTimezone(t))},this.toJsDate=e=>e.toDate(),this.parse=(e,t)=>e===""?null:this.dayjs(e,t,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const t=this.getLocaleFormats(),r=o=>o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(u,s,h)=>s||h.slice(1));return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(o,u,s)=>{const h=s&&s.toUpperCase();return u||t[s]||r(t[h])})},this.isValid=e=>e==null?!1:e.isValid(),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>this.dayjs(e).format(t),this.formatNumber=e=>e,this.isEqual=(e,t)=>e===null&&t===null?!0:e===null||t===null?!1:e.toDate().getTime()===t.toDate().getTime(),this.isSameYear=(e,t)=>this.isSame(e,t,"YYYY"),this.isSameMonth=(e,t)=>this.isSame(e,t,"YYYY-MM"),this.isSameDay=(e,t)=>this.isSame(e,t,"YYYY-MM-DD"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.isAfter=(e,t)=>e>t,this.isAfterYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()>t.utc():e.isAfter(t,"year"),this.isAfterDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()>t.utc():e.isAfter(t,"day"),this.isBefore=(e,t)=>e<t,this.isBeforeYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()<t.utc():e.isBefore(t,"year"),this.isBeforeDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()<t.utc():e.isBefore(t,"day"),this.isWithinRange=(e,[t,r])=>e>=t&&e<=r,this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"year"):e.add(t,"year")),this.addMonths=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"month"):e.add(t,"month")),this.addWeeks=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"week"):e.add(t,"week")),this.addDays=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"day"):e.add(t,"day")),this.addHours=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"hour"):e.add(t,"hour")),this.addMinutes=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"minute"):e.add(t,"minute")),this.addSeconds=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"second"):e.add(t,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,t)=>this.adjustOffset(e.set("year",t)),this.setMonth=(e,t)=>this.adjustOffset(e.set("month",t)),this.setDate=(e,t)=>this.adjustOffset(e.set("date",t)),this.setHours=(e,t)=>this.adjustOffset(e.set("hour",t)),this.setMinutes=(e,t)=>this.adjustOffset(e.set("minute",t)),this.setSeconds=(e,t)=>this.adjustOffset(e.set("second",t)),this.setMilliseconds=(e,t)=>this.adjustOffset(e.set("millisecond",t)),this.getDaysInMonth=e=>e.daysInMonth(),this.getWeekArray=e=>{const t=this.startOfWeek(this.startOfMonth(e)),r=this.endOfWeek(this.endOfMonth(e));let o=0,u=t;const s=[];for(;u<r;){const h=Math.floor(o/7);s[h]=s[h]||[],s[h].push(u),u=this.addDays(u,1),o+=1}return s},this.getWeekNumber=e=>e.week(),this.getYearRange=([e,t])=>{const r=this.startOfYear(e),o=this.endOfYear(t),u=[];let s=r;for(;this.isBefore(s,o);)u.push(s),s=this.addYears(s,1);return u},this.dayjs=mt(D,i),this.locale=i,this.formats=he({},ft,n),D.extend(Ke)}getDayOfWeek(i){return i.day()+1}}const we=({name:a,required:i,minDate:n,maxDate:e,validateOptions:t,...r})=>{const o=a.split(".");function u(c){return c.locale("en-gb").format("L")}let s=A.date();i&&(s=s.required()),n&&(s=s.min(n,`this field must be after or equal to ${u(n)}`)),e&&(s=s.max(e,`this field must be before or equal to ${u(e)}`));const h={name:a,type:"date",validate:R.schemaToFieldValidator(s,t)};return l.jsxRuntimeExports.jsx(_.Field,{...h,children:({form:c})=>{const x=O.getNestedProperty(c.errors,o),g=O.getNestedProperty(c.touched,o);let y=O.getNestedProperty(c.values,o);y=y?D(y):null;function Y(M){c.setFieldValue(a,M&&M.isValid()?M.format("YYYY-MM-DD"):null,!0)}return l.jsxRuntimeExports.jsx(xe.LocalizationProvider,{dateAdapter:pt,adapterLocale:"en-gb",children:l.jsxRuntimeExports.jsx(xe.DatePicker,{name:a,value:y,minDate:n,maxDate:e,onChange:Y,slotProps:{textField:{id:a,onChange:M=>{Y(M)},onBlur:c.handleBlur,required:i,error:g&&!!x,helperText:g&&x}},...r})})}})},$=({id:a,name:i,schema:n,type:e="text",required:t=!1,dirty:r=!1,unique:o=!1,uniqueCaseInsensitive:u=!1,split:s,validateOptions:h,...c})=>{const[x,g]=b.useState(""),y=i.split(".");function Y(){let d=n;if(d=t?d.required():d.optional(),r&&!s&&(d=d.notOneOf([x],"cannot be initial value")),!s)return d;let m=A.array().of(d);return m=t?m.required().min(1):m.optional(),(o||u)&&(m=m.test({message:"cannot have duplicates",test:p=>Array.isArray(p)&&p.length>=2&&p.every(j=>typeof j=="string")?new Set(u?p.map(j=>j.toLowerCase()):p).size===p.length:!0})),r&&(m=m.notOneOf([x],"cannot be initial value")),m}const M={name:i,type:e,validate:R.schemaToFieldValidator(Y(),h)},f=({form:d})=>{const m=O.getNestedProperty(d.initialValues,y),p=O.getNestedProperty(d.values,y),j=O.getNestedProperty(d.errors,y),T=O.getNestedProperty(d.touched,y);return b.useEffect(()=>{g(m)},[m]),b.useEffect(()=>{d.setFieldValue(i,s&&typeof p=="string"?p.split(s):p,!0)},[p]),l.jsxRuntimeExports.jsx(E.TextField,{id:a??i,name:i,type:e,required:t,value:p,onChange:d.handleChange,onBlur:d.handleBlur,error:T&&!!j,helperText:T&&j,...c})};return l.jsxRuntimeExports.jsx(_.Field,{...M,children:f})},be=({name:a="email",label:i="Email address",placeholder:n="Enter your email address",InputProps:e={},...t})=>l.jsxRuntimeExports.jsx($,{type:"email",schema:A.string().email(),name:a,label:i,placeholder:n,InputProps:{endAdornment:l.jsxRuntimeExports.jsx(E.InputAdornment,{position:"end",children:l.jsxRuntimeExports.jsx(re.EmailOutlined,{})}),...e},...t}),Pe=({name:a="first_name",label:i="First name",placeholder:n="Enter your first name",InputProps:e={},...t})=>l.jsxRuntimeExports.jsx($,{schema:$e.user.first_name,name:a,label:i,placeholder:n,InputProps:{endAdornment:l.jsxRuntimeExports.jsx(E.InputAdornment,{position:"end",children:l.jsxRuntimeExports.jsx(re.PersonOutlined,{})}),...e},...t}),Ce={behavior:"smooth",block:"start"},xt=({scrollIntoViewOptions:a=Ce,...i})=>{const n=b.useRef(null);return b.useEffect(()=>{n.current&&n.current.scrollIntoView(a)},[a]),l.jsxRuntimeExports.jsx(E.FormHelperText,{ref:n,error:!0,...i})},ke=({children:a,scrollIntoViewOptions:i=Ce,nonFieldErrorsProps:n,fieldRefs:e=[],...t})=>l.jsxRuntimeExports.jsx(_.Formik,{...t,children:r=>{const o=!!Object.keys(r.errors).length,u=o&&typeof r.errors.__all__=="string";if(o&&!u&&r.isSubmitting&&e.length){const s=O.getKeyPaths(r.errors),h=e.find(({name:c})=>s.includes(c))?.inputRef.current;h&&h.scrollIntoView(i)}return l.jsxRuntimeExports.jsxs(l.jsxRuntimeExports.Fragment,{children:[u&&l.jsxRuntimeExports.jsx(xt,{...n,children:r.errors.__all__}),l.jsxRuntimeExports.jsx(_.Form,{children:typeof a=="function"?a(r):a})]})}}),gt=({useMutation:a,submitOptions:i,...n})=>{const[e]=a();return l.jsxRuntimeExports.jsx(ke,{...n,onSubmit:R.submitForm(e,n.initialValues,i)})},Le=a=>"onSubmit"in a?l.jsxRuntimeExports.jsx(ke,{...a}):gt(a),Se=({name:a="otp",label:i="OTP",placeholder:n="Enter your OTP",...e})=>l.jsxRuntimeExports.jsx($,{name:a,label:i,schema:A.string().matches(/^[0-9]{6}$/,"Must be exactly 6 digits."),placeholder:n,required:!0,...e}),yt=({id:a,repeatName:i,setValue:n,fieldProps:e,name:t,label:r,placeholder:o,type:u,...s})=>{const{form:h}=e,c=t.split("."),x=O.getNestedProperty(h.values,c),g=i.split("."),y=O.getNestedProperty(h.values,g),Y=O.getNestedProperty(h.touched,g),M=O.getNestedProperty(h.errors,g);return b.useEffect(()=>{n(x)},[n,x]),l.jsxRuntimeExports.jsx(E.TextField,{required:!0,type:u,label:r??`Repeat ${t.replace("_"," ")}`,placeholder:o??`Enter your ${t.replace("_"," ")} again`,id:a??i,name:i,value:y,onChange:h.handleChange,onBlur:h.handleBlur,error:Y&&!!M,helperText:Y&&M,...s})},fe=({name:a,type:i="text",validateOptions:n,...e})=>{const[t,r]=b.useState(""),o=`${a}_repeat`,u={name:o,type:i,validate:R.schemaToFieldValidator(A.string().required().equals([t],"does not match"),n)};return l.jsxRuntimeExports.jsx(_.Field,{...u,children:s=>l.jsxRuntimeExports.jsx(yt,{name:a,type:i,repeatName:o,setValue:r,fieldProps:s,...e})})},Re=({name:a="password",label:i="Password",placeholder:n="Enter your password",schema:e=A.string(),InputProps:t={},withRepeatField:r=!1,repeatFieldProps:o={},...u})=>{const[s,h]=b.useState(!1),c=s?"text":"password",x=l.jsxRuntimeExports.jsx(E.InputAdornment,{position:"end",children:l.jsxRuntimeExports.jsx(E.IconButton,{onClick:()=>{h(g=>!g)},edge:"end",children:s?l.jsxRuntimeExports.jsx(re.Visibility,{}):l.jsxRuntimeExports.jsx(re.VisibilityOff,{})})});return l.jsxRuntimeExports.jsxs(l.jsxRuntimeExports.Fragment,{children:[l.jsxRuntimeExports.jsx($,{autoComplete:"off",type:c,name:a,label:i,schema:e,placeholder:n,InputProps:{endAdornment:x,...t},...u}),r&&l.jsxRuntimeExports.jsx(fe,{name:a,type:c,...o,InputProps:{endAdornment:x,...o.InputProps}})]})},ve=({children:a="Submit",...i})=>{function n(e,t){t=t||{};for(const r in e){const o=e[r];t[r]=o instanceof Object&&o.constructor===Object?n(o,t):!0}return t}return l.jsxRuntimeExports.jsx(_.Field,{name:"submit",type:"submit",children:({form:e})=>l.jsxRuntimeExports.jsx(E.Button,{type:"button",onClick:()=>{e.setTouched(n(e.values),!0).then(t=>{const r=!!(t&&Object.keys(t).length);e.setSubmitting(r),r||e.submitForm()})},...i,children:a})})},ze=({textFieldProps:a,...i})=>{const{name:n="uk_county",label:e="UK county",placeholder:t="Select your UK county",...r}=a||{};return l.jsxRuntimeExports.jsx(q,{options:O.UK_COUNTIES,textFieldProps:{name:n,label:e,placeholder:t,...r},...i})},jt=Object.freeze(Object.defineProperty({__proto__:null,ApiAutocompleteField:De,AutocompleteField:q,CheckboxField:Ee,CountryField:Fe,DatePickerField:we,EmailField:be,FirstNameField:Pe,Form:Le,OtpField:Se,PasswordField:Re,RepeatField:fe,SubmitButton:ve,TextField:$,UkCountyField:ze},Symbol.toStringTag,{value:"Module"}));exports.ApiAutocompleteField=De;exports.AutocompleteField=q;exports.CheckboxField=Ee;exports.CountryField=Fe;exports.DatePickerField=we;exports.EmailField=be;exports.FirstNameField=Pe;exports.Form=Le;exports.OtpField=Se;exports.PasswordField=Re;exports.RepeatField=fe;exports.SubmitButton=ve;exports.TextField=$;exports.UkCountyField=ze;exports.index=jt;
//# sourceMappingURL=index-D5Lep8vY.cjs.map
