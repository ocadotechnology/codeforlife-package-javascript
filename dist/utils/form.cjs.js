"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const E=require("yup"),f=require("./general.cjs.js");function m(t){return typeof t=="object"&&t!==null&&"status"in t&&t.status===400&&"data"in t&&typeof t.data=="object"&&t.data!==null}function g(t,n){if(!m(t))throw t;const i=Object.fromEntries(Object.entries(t.data).map(([e,a])=>(Array.isArray(a)&&(a=a.join(". ")),[e,a])));n(i)}function F(t,n,i){const{include:e,onlyDirtyValues:a=!1,then:s,catch:y,finally:d}=i||{};let{exclude:c=[]}=i||{};return(l,u)=>{let o=i&&i.clean?i.clean(l):l;a&&(c=[...c,...j(l,n).filter(r=>!c.includes(r))]),e&&(c=c.filter(r=>!e.includes(r))),c.length&&(o=f.excludeKeyPaths(o,c)),t(o).unwrap().then(r=>{s&&s(r,l,u)}).catch(r=>{y&&y(r,l,u),g(r,u.setErrors)}).finally(()=>{d&&d(l,u)})}}function D(t,n){return async i=>{try{await t.validate(i,n)}catch(e){if(e instanceof E.ValidationError)return e.errors.join(". ");throw e}}}function b(t,n,i){return i||(i=f.getKeyPaths(t)),Object.fromEntries(i.map(e=>[e,h(t,n,e)]))}function h(t,n,i){const e=f.getNestedProperty(t,i),a=f.getNestedProperty(n,i);return e!==a}function j(t,n,i){return Object.entries(b(t,n,i)).filter(([e,a])=>!a).map(([e])=>e)}exports.getCleanNames=j;exports.getDirty=b;exports.isDirty=h;exports.isFormError=m;exports.schemaToFieldValidator=D;exports.setFormErrors=g;exports.submitForm=F;
//# sourceMappingURL=form.cjs.js.map
