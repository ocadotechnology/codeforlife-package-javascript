"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("@reduxjs/toolkit/query/react"),l=require("../general-CWsWbQnR.cjs"),g=require("../session-DtW6Hns_.cjs"),s=require("../auth-D5YQ0DSq.cjs"),u=require("../urls-D-pIgqoF.cjs"),y=require("../schemas-DKBhdVCF.cjs"),f=["User","School","Class","AuthFactor"];function h({tagTypes:p=[]}={}){const n=a.fetchBaseQuery({baseUrl:`${l.SERVICE_API_URL}/`,credentials:"include",prepareHeaders:(e,t)=>{const{type:r,arg:o}=t,d=typeof o=="string"?"GET":o.method||"GET";if(r==="mutation"||!u.isSafeHttpMethod(d)){const c=s.getCsrfCookie();c&&e.set("x-csrftoken",c)}return e}}),i=a.createApi({baseQuery:async(e,t,r)=>{if(t.type==="mutation"&&s.getCsrfCookie()===void 0){const{error:o}=await n({url:"/csrf/cookie/",method:"GET"},t,{});o!==void 0&&console.error(o),s.getCsrfCookie()}return await n(e,t,r)},tagTypes:[...f,...p],endpoints:()=>({})});return i.injectEndpoints({endpoints:e=>({logout:g.buildLogoutEndpoint(i,e)})})}exports.urls=u.urls;exports.schemas=y.schemas;exports.createApi=h;exports.tagTypes=f;
//# sourceMappingURL=index.cjs.js.map
