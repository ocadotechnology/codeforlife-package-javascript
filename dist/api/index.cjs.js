"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("@reduxjs/toolkit/query/react"),i=require("../urls-47PVNIh0.cjs"),l=require("../session-MTg5v1BS.cjs"),r=require("../auth-BFCMicy-.cjs"),g=require("../schemas-DBXxZWEp.cjs"),f=["User","School","Class","AuthFactor"];function y({tagTypes:p=[]}={}){const n=u.fetchBaseQuery({baseUrl:`${i.SERVICE_API_URL}/`,credentials:"include",prepareHeaders:(e,t)=>{const{type:s,arg:o}=t,d=typeof o=="string"?"GET":o.method||"GET";if(s==="mutation"||!i.isSafeHttpMethod(d)){const a=r.getCsrfCookie();a&&e.set("x-csrftoken",a)}return e}}),c=u.createApi({baseQuery:async(e,t,s)=>{if(t.type==="mutation"&&r.getCsrfCookie()===void 0){const{error:o}=await n({url:"/csrf/cookie/",method:"GET"},t,{});o!==void 0&&console.error(o),r.getCsrfCookie()}return await n(e,t,s)},tagTypes:[...f,...p],endpoints:()=>({})});return c.injectEndpoints({endpoints:e=>({logout:l.buildLogoutEndpoint(c,e)})})}exports.urls=i.urls;exports.schemas=g.schemas;exports.createApi=y;exports.tagTypes=f;
//# sourceMappingURL=index.cjs.js.map
