"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("@reduxjs/toolkit/query/react"),f=require("../settings/index.cjs.js"),l=require("../session-eOp0H-EC.cjs"),r=require("../utils/auth.cjs.js"),g=require("../api-CnMfjRk3.cjs"),y=require("../schemas-BZbJpkD5.cjs"),h=require("../urls-MaVXL_C2.cjs"),u=["User","School","Class","AuthFactor"];function m({tagTypes:p=[]}={}){const i=a.fetchBaseQuery({baseUrl:`${f.SERVICE_API_URL}/`,credentials:"include",prepareHeaders:(e,t)=>{const{type:o,arg:s}=t,d=typeof s=="string"?"GET":s.method||"GET";if(o==="mutation"||!g.isSafeHttpMethod(d)){const c=r.getCsrfCookie();c&&e.set("x-csrftoken",c)}return e}}),n=a.createApi({baseQuery:async(e,t,o)=>{if(t.type==="mutation"&&r.getCsrfCookie()===void 0){const{error:s}=await i({url:"/csrf/cookie/",method:"GET"},t,{});s!==void 0&&console.error(s),r.getCsrfCookie()}return await i(e,t,o)},tagTypes:[...u,...p],endpoints:()=>({})});return n.injectEndpoints({endpoints:e=>({logout:l.buildLogoutEndpoint(n,e)})})}exports.schemas=y.schemas;exports.urls=h.urls;exports.createApi=m;exports.tagTypes=u;
//# sourceMappingURL=index.cjs.js.map
