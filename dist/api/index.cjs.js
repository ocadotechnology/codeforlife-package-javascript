"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("@reduxjs/toolkit/query/react"),l=require("../settings/index.cjs.js"),g=require("../session-Dpv73TFk.cjs"),r=require("../auth-CN0mUgZr.cjs"),u=require("../urls-B6mzko34.cjs"),y=require("../schemas-BykhozBX.cjs"),d=["User","School","Class","AuthFactor"];function h({tagTypes:f=[]}={}){const i=a.fetchBaseQuery({baseUrl:`${l.SERVICE_API_URL}/`,credentials:"include",prepareHeaders:(e,t)=>{const{type:s,arg:o}=t,p=typeof o=="string"?"GET":o.method||"GET";if(s==="mutation"||!u.isSafeHttpMethod(p)){const c=r.getCsrfCookie();c&&e.set("x-csrftoken",c)}return e}}),n=a.createApi({baseQuery:async(e,t,s)=>{if(t.type==="mutation"&&r.getCsrfCookie()===void 0){const{error:o}=await i({url:"/csrf/cookie/",method:"GET"},t,{});o!==void 0&&console.error(o),r.getCsrfCookie()}return await i(e,t,s)},tagTypes:[...d,...f],endpoints:()=>({})});return n.injectEndpoints({endpoints:e=>({logout:g.buildLogoutEndpoint(n,e)})})}exports.urls=u.urls;exports.schemas=y.schemas;exports.createApi=h;exports.tagTypes=d;
//# sourceMappingURL=index.cjs.js.map
