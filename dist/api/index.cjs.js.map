{"version":3,"file":"index.cjs.js","sources":["../../node_modules/@reduxjs/toolkit/dist/query/react/rtk-query-react.modern.mjs","../../src/api/tagTypes.ts","../../src/api/createApi.ts"],"sourcesContent":["// src/query/react/index.ts\nimport { buildCreateApi, coreModule } from \"@reduxjs/toolkit/query\";\n\n// src/query/react/module.ts\nimport { formatProdErrorMessage as _formatProdErrorMessage3 } from \"@reduxjs/toolkit\";\nimport { batch as rrBatch, useDispatch as rrUseDispatch, useSelector as rrUseSelector, useStore as rrUseStore } from \"react-redux\";\nimport { createSelector as _createSelector } from \"reselect\";\n\n// src/query/utils/capitalize.ts\nfunction capitalize(str) {\n  return str.replace(str[0], str[0].toUpperCase());\n}\n\n// src/query/utils/countObjectKeys.ts\nfunction countObjectKeys(obj) {\n  let count = 0;\n  for (const _key in obj) {\n    count++;\n  }\n  return count;\n}\n\n// src/query/endpointDefinitions.ts\nfunction isQueryDefinition(e) {\n  return e.type === \"query\" /* query */;\n}\nfunction isMutationDefinition(e) {\n  return e.type === \"mutation\" /* mutation */;\n}\nfunction isInfiniteQueryDefinition(e) {\n  return e.type === \"infinitequery\" /* infinitequery */;\n}\n\n// src/query/tsHelpers.ts\nfunction safeAssign(target, ...args) {\n  return Object.assign(target, ...args);\n}\n\n// src/query/react/buildHooks.ts\nimport { formatProdErrorMessage as _formatProdErrorMessage, formatProdErrorMessage as _formatProdErrorMessage2 } from \"@reduxjs/toolkit\";\nimport { defaultSerializeQueryArgs, QueryStatus, skipToken } from \"@reduxjs/toolkit/query\";\nimport { useCallback, useDebugValue, useEffect as useEffect3, useLayoutEffect, useMemo as useMemo2, useRef as useRef3, useState } from \"react\";\nimport { shallowEqual as shallowEqual2 } from \"react-redux\";\n\n// src/query/react/constants.ts\nvar UNINITIALIZED_VALUE = Symbol();\n\n// src/query/react/useSerializedStableValue.ts\nimport { useEffect, useRef, useMemo } from \"react\";\nfunction useStableQueryArgs(queryArgs, serialize, endpointDefinition, endpointName) {\n  const incoming = useMemo(() => ({\n    queryArgs,\n    serialized: typeof queryArgs == \"object\" ? serialize({\n      queryArgs,\n      endpointDefinition,\n      endpointName\n    }) : queryArgs\n  }), [queryArgs, serialize, endpointDefinition, endpointName]);\n  const cache = useRef(incoming);\n  useEffect(() => {\n    if (cache.current.serialized !== incoming.serialized) {\n      cache.current = incoming;\n    }\n  }, [incoming]);\n  return cache.current.serialized === incoming.serialized ? cache.current.queryArgs : queryArgs;\n}\n\n// src/query/react/useShallowStableValue.ts\nimport { useEffect as useEffect2, useRef as useRef2 } from \"react\";\nimport { shallowEqual } from \"react-redux\";\nfunction useShallowStableValue(value) {\n  const cache = useRef2(value);\n  useEffect2(() => {\n    if (!shallowEqual(cache.current, value)) {\n      cache.current = value;\n    }\n  }, [value]);\n  return shallowEqual(cache.current, value) ? cache.current : value;\n}\n\n// src/query/react/buildHooks.ts\nvar canUseDOM = () => !!(typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\");\nvar isDOM = /* @__PURE__ */ canUseDOM();\nvar isRunningInReactNative = () => typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\";\nvar isReactNative = /* @__PURE__ */ isRunningInReactNative();\nvar getUseIsomorphicLayoutEffect = () => isDOM || isReactNative ? useLayoutEffect : useEffect3;\nvar useIsomorphicLayoutEffect = /* @__PURE__ */ getUseIsomorphicLayoutEffect();\nvar noPendingQueryStateSelector = (selected) => {\n  if (selected.isUninitialized) {\n    return {\n      ...selected,\n      isUninitialized: false,\n      isFetching: true,\n      isLoading: selected.data !== void 0 ? false : true,\n      status: QueryStatus.pending\n    };\n  }\n  return selected;\n};\nfunction pick(obj, ...keys) {\n  const ret = {};\n  keys.forEach((key) => {\n    ret[key] = obj[key];\n  });\n  return ret;\n}\nvar COMMON_HOOK_DEBUG_FIELDS = [\"data\", \"status\", \"isLoading\", \"isSuccess\", \"isError\", \"error\"];\nfunction buildHooks({\n  api,\n  moduleOptions: {\n    batch,\n    hooks: {\n      useDispatch,\n      useSelector,\n      useStore\n    },\n    unstable__sideEffectsInRender,\n    createSelector\n  },\n  serializeQueryArgs,\n  context\n}) {\n  const usePossiblyImmediateEffect = unstable__sideEffectsInRender ? (cb) => cb() : useEffect3;\n  return {\n    buildQueryHooks,\n    buildInfiniteQueryHooks,\n    buildMutationHook,\n    usePrefetch\n  };\n  function queryStatePreSelector(currentState, lastResult, queryArgs) {\n    if (lastResult?.endpointName && currentState.isUninitialized) {\n      const {\n        endpointName\n      } = lastResult;\n      const endpointDefinition = context.endpointDefinitions[endpointName];\n      if (queryArgs !== skipToken && serializeQueryArgs({\n        queryArgs: lastResult.originalArgs,\n        endpointDefinition,\n        endpointName\n      }) === serializeQueryArgs({\n        queryArgs,\n        endpointDefinition,\n        endpointName\n      })) lastResult = void 0;\n    }\n    let data = currentState.isSuccess ? currentState.data : lastResult?.data;\n    if (data === void 0) data = currentState.data;\n    const hasData = data !== void 0;\n    const isFetching = currentState.isLoading;\n    const isLoading = (!lastResult || lastResult.isLoading || lastResult.isUninitialized) && !hasData && isFetching;\n    const isSuccess = currentState.isSuccess || hasData && (isFetching && !lastResult?.isError || currentState.isUninitialized);\n    return {\n      ...currentState,\n      data,\n      currentData: currentState.data,\n      isFetching,\n      isLoading,\n      isSuccess\n    };\n  }\n  function infiniteQueryStatePreSelector(currentState, lastResult, queryArgs) {\n    if (lastResult?.endpointName && currentState.isUninitialized) {\n      const {\n        endpointName\n      } = lastResult;\n      const endpointDefinition = context.endpointDefinitions[endpointName];\n      if (queryArgs !== skipToken && serializeQueryArgs({\n        queryArgs: lastResult.originalArgs,\n        endpointDefinition,\n        endpointName\n      }) === serializeQueryArgs({\n        queryArgs,\n        endpointDefinition,\n        endpointName\n      })) lastResult = void 0;\n    }\n    let data = currentState.isSuccess ? currentState.data : lastResult?.data;\n    if (data === void 0) data = currentState.data;\n    const hasData = data !== void 0;\n    const isFetching = currentState.isLoading;\n    const isLoading = (!lastResult || lastResult.isLoading || lastResult.isUninitialized) && !hasData && isFetching;\n    const isSuccess = currentState.isSuccess || isFetching && hasData;\n    return {\n      ...currentState,\n      data,\n      currentData: currentState.data,\n      isFetching,\n      isLoading,\n      isSuccess\n    };\n  }\n  function usePrefetch(endpointName, defaultOptions) {\n    const dispatch = useDispatch();\n    const stableDefaultOptions = useShallowStableValue(defaultOptions);\n    return useCallback((arg, options) => dispatch(api.util.prefetch(endpointName, arg, {\n      ...stableDefaultOptions,\n      ...options\n    })), [endpointName, dispatch, stableDefaultOptions]);\n  }\n  function useQuerySubscriptionCommonImpl(endpointName, arg, {\n    refetchOnReconnect,\n    refetchOnFocus,\n    refetchOnMountOrArgChange,\n    skip = false,\n    pollingInterval = 0,\n    skipPollingIfUnfocused = false,\n    ...rest\n  } = {}) {\n    const {\n      initiate\n    } = api.endpoints[endpointName];\n    const dispatch = useDispatch();\n    const subscriptionSelectorsRef = useRef3(void 0);\n    if (!subscriptionSelectorsRef.current) {\n      const returnedValue = dispatch(api.internalActions.internal_getRTKQSubscriptions());\n      if (process.env.NODE_ENV !== \"production\") {\n        if (typeof returnedValue !== \"object\" || typeof returnedValue?.type === \"string\") {\n          throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage(37) : `Warning: Middleware for RTK-Query API at reducerPath \"${api.reducerPath}\" has not been added to the store.\n    You must add the middleware for RTK-Query to function correctly!`);\n        }\n      }\n      subscriptionSelectorsRef.current = returnedValue;\n    }\n    const stableArg = useStableQueryArgs(\n      skip ? skipToken : arg,\n      // Even if the user provided a per-endpoint `serializeQueryArgs` with\n      // a consistent return value, _here_ we want to use the default behavior\n      // so we can tell if _anything_ actually changed. Otherwise, we can end up\n      // with a case where the query args did change but the serialization doesn't,\n      // and then we never try to initiate a refetch.\n      defaultSerializeQueryArgs,\n      context.endpointDefinitions[endpointName],\n      endpointName\n    );\n    const stableSubscriptionOptions = useShallowStableValue({\n      refetchOnReconnect,\n      refetchOnFocus,\n      pollingInterval,\n      skipPollingIfUnfocused\n    });\n    const initialPageParam = rest.initialPageParam;\n    const stableInitialPageParam = useShallowStableValue(initialPageParam);\n    const promiseRef = useRef3(void 0);\n    let {\n      queryCacheKey,\n      requestId\n    } = promiseRef.current || {};\n    let currentRenderHasSubscription = false;\n    if (queryCacheKey && requestId) {\n      currentRenderHasSubscription = subscriptionSelectorsRef.current.isRequestSubscribed(queryCacheKey, requestId);\n    }\n    const subscriptionRemoved = !currentRenderHasSubscription && promiseRef.current !== void 0;\n    usePossiblyImmediateEffect(() => {\n      if (subscriptionRemoved) {\n        promiseRef.current = void 0;\n      }\n    }, [subscriptionRemoved]);\n    usePossiblyImmediateEffect(() => {\n      const lastPromise = promiseRef.current;\n      if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"removeMeOnCompilation\") {\n        console.log(subscriptionRemoved);\n      }\n      if (stableArg === skipToken) {\n        lastPromise?.unsubscribe();\n        promiseRef.current = void 0;\n        return;\n      }\n      const lastSubscriptionOptions = promiseRef.current?.subscriptionOptions;\n      if (!lastPromise || lastPromise.arg !== stableArg) {\n        lastPromise?.unsubscribe();\n        const promise = dispatch(initiate(stableArg, {\n          subscriptionOptions: stableSubscriptionOptions,\n          forceRefetch: refetchOnMountOrArgChange,\n          ...isInfiniteQueryDefinition(context.endpointDefinitions[endpointName]) ? {\n            initialPageParam: stableInitialPageParam\n          } : {}\n        }));\n        promiseRef.current = promise;\n      } else if (stableSubscriptionOptions !== lastSubscriptionOptions) {\n        lastPromise.updateSubscriptionOptions(stableSubscriptionOptions);\n      }\n    }, [dispatch, initiate, refetchOnMountOrArgChange, stableArg, stableSubscriptionOptions, subscriptionRemoved, stableInitialPageParam, endpointName]);\n    return [promiseRef, dispatch, initiate, stableSubscriptionOptions];\n  }\n  function buildUseQueryState(endpointName, preSelector) {\n    const useQueryState = (arg, {\n      skip = false,\n      selectFromResult\n    } = {}) => {\n      const {\n        select\n      } = api.endpoints[endpointName];\n      const stableArg = useStableQueryArgs(skip ? skipToken : arg, serializeQueryArgs, context.endpointDefinitions[endpointName], endpointName);\n      const lastValue = useRef3(void 0);\n      const selectDefaultResult = useMemo2(() => (\n        // Normally ts-ignores are bad and should be avoided, but we're\n        // already casting this selector to be `Selector<any>` anyway,\n        // so the inconsistencies don't matter here\n        // @ts-ignore\n        createSelector([\n          // @ts-ignore\n          select(stableArg),\n          (_, lastResult) => lastResult,\n          (_) => stableArg\n        ], preSelector, {\n          memoizeOptions: {\n            resultEqualityCheck: shallowEqual2\n          }\n        })\n      ), [select, stableArg]);\n      const querySelector = useMemo2(() => selectFromResult ? createSelector([selectDefaultResult], selectFromResult, {\n        devModeChecks: {\n          identityFunctionCheck: \"never\"\n        }\n      }) : selectDefaultResult, [selectDefaultResult, selectFromResult]);\n      const currentState = useSelector((state) => querySelector(state, lastValue.current), shallowEqual2);\n      const store = useStore();\n      const newLastValue = selectDefaultResult(store.getState(), lastValue.current);\n      useIsomorphicLayoutEffect(() => {\n        lastValue.current = newLastValue;\n      }, [newLastValue]);\n      return currentState;\n    };\n    return useQueryState;\n  }\n  function usePromiseRefUnsubscribeOnUnmount(promiseRef) {\n    useEffect3(() => {\n      return () => {\n        promiseRef.current?.unsubscribe?.();\n        promiseRef.current = void 0;\n      };\n    }, [promiseRef]);\n  }\n  function refetchOrErrorIfUnmounted(promiseRef) {\n    if (!promiseRef.current) throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage2(38) : \"Cannot refetch a query that has not been started yet.\");\n    return promiseRef.current.refetch();\n  }\n  function buildQueryHooks(endpointName) {\n    const useQuerySubscription = (arg, options = {}) => {\n      const [promiseRef] = useQuerySubscriptionCommonImpl(endpointName, arg, options);\n      usePromiseRefUnsubscribeOnUnmount(promiseRef);\n      return useMemo2(() => ({\n        /**\n         * A method to manually refetch data for the query\n         */\n        refetch: () => refetchOrErrorIfUnmounted(promiseRef)\n      }), [promiseRef]);\n    };\n    const useLazyQuerySubscription = ({\n      refetchOnReconnect,\n      refetchOnFocus,\n      pollingInterval = 0,\n      skipPollingIfUnfocused = false\n    } = {}) => {\n      const {\n        initiate\n      } = api.endpoints[endpointName];\n      const dispatch = useDispatch();\n      const [arg, setArg] = useState(UNINITIALIZED_VALUE);\n      const promiseRef = useRef3(void 0);\n      const stableSubscriptionOptions = useShallowStableValue({\n        refetchOnReconnect,\n        refetchOnFocus,\n        pollingInterval,\n        skipPollingIfUnfocused\n      });\n      usePossiblyImmediateEffect(() => {\n        const lastSubscriptionOptions = promiseRef.current?.subscriptionOptions;\n        if (stableSubscriptionOptions !== lastSubscriptionOptions) {\n          promiseRef.current?.updateSubscriptionOptions(stableSubscriptionOptions);\n        }\n      }, [stableSubscriptionOptions]);\n      const subscriptionOptionsRef = useRef3(stableSubscriptionOptions);\n      usePossiblyImmediateEffect(() => {\n        subscriptionOptionsRef.current = stableSubscriptionOptions;\n      }, [stableSubscriptionOptions]);\n      const trigger = useCallback(function(arg2, preferCacheValue = false) {\n        let promise;\n        batch(() => {\n          promiseRef.current?.unsubscribe();\n          promiseRef.current = promise = dispatch(initiate(arg2, {\n            subscriptionOptions: subscriptionOptionsRef.current,\n            forceRefetch: !preferCacheValue\n          }));\n          setArg(arg2);\n        });\n        return promise;\n      }, [dispatch, initiate]);\n      const reset = useCallback(() => {\n        if (promiseRef.current?.queryCacheKey) {\n          dispatch(api.internalActions.removeQueryResult({\n            queryCacheKey: promiseRef.current?.queryCacheKey\n          }));\n        }\n      }, [dispatch]);\n      useEffect3(() => {\n        return () => {\n          promiseRef?.current?.unsubscribe();\n        };\n      }, []);\n      useEffect3(() => {\n        if (arg !== UNINITIALIZED_VALUE && !promiseRef.current) {\n          trigger(arg, true);\n        }\n      }, [arg, trigger]);\n      return useMemo2(() => [trigger, arg, {\n        reset\n      }], [trigger, arg, reset]);\n    };\n    const useQueryState = buildUseQueryState(endpointName, queryStatePreSelector);\n    return {\n      useQueryState,\n      useQuerySubscription,\n      useLazyQuerySubscription,\n      useLazyQuery(options) {\n        const [trigger, arg, {\n          reset\n        }] = useLazyQuerySubscription(options);\n        const queryStateResults = useQueryState(arg, {\n          ...options,\n          skip: arg === UNINITIALIZED_VALUE\n        });\n        const info = useMemo2(() => ({\n          lastArg: arg\n        }), [arg]);\n        return useMemo2(() => [trigger, {\n          ...queryStateResults,\n          reset\n        }, info], [trigger, queryStateResults, reset, info]);\n      },\n      useQuery(arg, options) {\n        const querySubscriptionResults = useQuerySubscription(arg, options);\n        const queryStateResults = useQueryState(arg, {\n          selectFromResult: arg === skipToken || options?.skip ? void 0 : noPendingQueryStateSelector,\n          ...options\n        });\n        const debugValue = pick(queryStateResults, ...COMMON_HOOK_DEBUG_FIELDS);\n        useDebugValue(debugValue);\n        return useMemo2(() => ({\n          ...queryStateResults,\n          ...querySubscriptionResults\n        }), [queryStateResults, querySubscriptionResults]);\n      }\n    };\n  }\n  function buildInfiniteQueryHooks(endpointName) {\n    const useInfiniteQuerySubscription = (arg, options = {}) => {\n      const [promiseRef, dispatch, initiate, stableSubscriptionOptions] = useQuerySubscriptionCommonImpl(endpointName, arg, options);\n      const subscriptionOptionsRef = useRef3(stableSubscriptionOptions);\n      usePossiblyImmediateEffect(() => {\n        subscriptionOptionsRef.current = stableSubscriptionOptions;\n      }, [stableSubscriptionOptions]);\n      const trigger = useCallback(function(arg2, direction) {\n        let promise;\n        batch(() => {\n          promiseRef.current?.unsubscribe();\n          promiseRef.current = promise = dispatch(initiate(arg2, {\n            subscriptionOptions: subscriptionOptionsRef.current,\n            direction\n          }));\n        });\n        return promise;\n      }, [promiseRef, dispatch, initiate]);\n      usePromiseRefUnsubscribeOnUnmount(promiseRef);\n      const stableArg = useStableQueryArgs(\n        options.skip ? skipToken : arg,\n        // Even if the user provided a per-endpoint `serializeQueryArgs` with\n        // a consistent return value, _here_ we want to use the default behavior\n        // so we can tell if _anything_ actually changed. Otherwise, we can end up\n        // with a case where the query args did change but the serialization doesn't,\n        // and then we never try to initiate a refetch.\n        defaultSerializeQueryArgs,\n        context.endpointDefinitions[endpointName],\n        endpointName\n      );\n      const refetch = useCallback(() => refetchOrErrorIfUnmounted(promiseRef), [promiseRef]);\n      return useMemo2(() => {\n        const fetchNextPage = () => {\n          return trigger(stableArg, \"forward\");\n        };\n        const fetchPreviousPage = () => {\n          return trigger(stableArg, \"backward\");\n        };\n        return {\n          trigger,\n          /**\n           * A method to manually refetch data for the query\n           */\n          refetch,\n          fetchNextPage,\n          fetchPreviousPage\n        };\n      }, [refetch, trigger, stableArg]);\n    };\n    const useInfiniteQueryState = buildUseQueryState(endpointName, infiniteQueryStatePreSelector);\n    return {\n      useInfiniteQueryState,\n      useInfiniteQuerySubscription,\n      useInfiniteQuery(arg, options) {\n        const {\n          refetch,\n          fetchNextPage,\n          fetchPreviousPage\n        } = useInfiniteQuerySubscription(arg, options);\n        const queryStateResults = useInfiniteQueryState(arg, {\n          selectFromResult: arg === skipToken || options?.skip ? void 0 : noPendingQueryStateSelector,\n          ...options\n        });\n        const debugValue = pick(queryStateResults, ...COMMON_HOOK_DEBUG_FIELDS, \"hasNextPage\", \"hasPreviousPage\");\n        useDebugValue(debugValue);\n        return useMemo2(() => ({\n          ...queryStateResults,\n          fetchNextPage,\n          fetchPreviousPage,\n          refetch\n        }), [queryStateResults, fetchNextPage, fetchPreviousPage, refetch]);\n      }\n    };\n  }\n  function buildMutationHook(name) {\n    return ({\n      selectFromResult,\n      fixedCacheKey\n    } = {}) => {\n      const {\n        select,\n        initiate\n      } = api.endpoints[name];\n      const dispatch = useDispatch();\n      const [promise, setPromise] = useState();\n      useEffect3(() => () => {\n        if (!promise?.arg.fixedCacheKey) {\n          promise?.reset();\n        }\n      }, [promise]);\n      const triggerMutation = useCallback(function(arg) {\n        const promise2 = dispatch(initiate(arg, {\n          fixedCacheKey\n        }));\n        setPromise(promise2);\n        return promise2;\n      }, [dispatch, initiate, fixedCacheKey]);\n      const {\n        requestId\n      } = promise || {};\n      const selectDefaultResult = useMemo2(() => select({\n        fixedCacheKey,\n        requestId: promise?.requestId\n      }), [fixedCacheKey, promise, select]);\n      const mutationSelector = useMemo2(() => selectFromResult ? createSelector([selectDefaultResult], selectFromResult) : selectDefaultResult, [selectFromResult, selectDefaultResult]);\n      const currentState = useSelector(mutationSelector, shallowEqual2);\n      const originalArgs = fixedCacheKey == null ? promise?.arg.originalArgs : void 0;\n      const reset = useCallback(() => {\n        batch(() => {\n          if (promise) {\n            setPromise(void 0);\n          }\n          if (fixedCacheKey) {\n            dispatch(api.internalActions.removeMutationResult({\n              requestId,\n              fixedCacheKey\n            }));\n          }\n        });\n      }, [dispatch, fixedCacheKey, promise, requestId]);\n      const debugValue = pick(currentState, ...COMMON_HOOK_DEBUG_FIELDS, \"endpointName\");\n      useDebugValue(debugValue);\n      const finalState = useMemo2(() => ({\n        ...currentState,\n        originalArgs,\n        reset\n      }), [currentState, originalArgs, reset]);\n      return useMemo2(() => [triggerMutation, finalState], [triggerMutation, finalState]);\n    };\n  }\n}\n\n// src/query/react/module.ts\nvar reactHooksModuleName = /* @__PURE__ */ Symbol();\nvar reactHooksModule = ({\n  batch = rrBatch,\n  hooks = {\n    useDispatch: rrUseDispatch,\n    useSelector: rrUseSelector,\n    useStore: rrUseStore\n  },\n  createSelector = _createSelector,\n  unstable__sideEffectsInRender = false,\n  ...rest\n} = {}) => {\n  if (process.env.NODE_ENV !== \"production\") {\n    const hookNames = [\"useDispatch\", \"useSelector\", \"useStore\"];\n    let warned = false;\n    for (const hookName of hookNames) {\n      if (countObjectKeys(rest) > 0) {\n        if (rest[hookName]) {\n          if (!warned) {\n            console.warn(\"As of RTK 2.0, the hooks now need to be specified as one object, provided under a `hooks` key:\\n`reactHooksModule({ hooks: { useDispatch, useSelector, useStore } })`\");\n            warned = true;\n          }\n        }\n        hooks[hookName] = rest[hookName];\n      }\n      if (typeof hooks[hookName] !== \"function\") {\n        throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage3(36) : `When using custom hooks for context, all ${hookNames.length} hooks need to be provided: ${hookNames.join(\", \")}.\nHook ${hookName} was either not provided or not a function.`);\n      }\n    }\n  }\n  return {\n    name: reactHooksModuleName,\n    init(api, {\n      serializeQueryArgs\n    }, context) {\n      const anyApi = api;\n      const {\n        buildQueryHooks,\n        buildInfiniteQueryHooks,\n        buildMutationHook,\n        usePrefetch\n      } = buildHooks({\n        api,\n        moduleOptions: {\n          batch,\n          hooks,\n          unstable__sideEffectsInRender,\n          createSelector\n        },\n        serializeQueryArgs,\n        context\n      });\n      safeAssign(anyApi, {\n        usePrefetch\n      });\n      safeAssign(context, {\n        batch\n      });\n      return {\n        injectEndpoint(endpointName, definition) {\n          if (isQueryDefinition(definition)) {\n            const {\n              useQuery,\n              useLazyQuery,\n              useLazyQuerySubscription,\n              useQueryState,\n              useQuerySubscription\n            } = buildQueryHooks(endpointName);\n            safeAssign(anyApi.endpoints[endpointName], {\n              useQuery,\n              useLazyQuery,\n              useLazyQuerySubscription,\n              useQueryState,\n              useQuerySubscription\n            });\n            api[`use${capitalize(endpointName)}Query`] = useQuery;\n            api[`useLazy${capitalize(endpointName)}Query`] = useLazyQuery;\n          }\n          if (isMutationDefinition(definition)) {\n            const useMutation = buildMutationHook(endpointName);\n            safeAssign(anyApi.endpoints[endpointName], {\n              useMutation\n            });\n            api[`use${capitalize(endpointName)}Mutation`] = useMutation;\n          } else if (isInfiniteQueryDefinition(definition)) {\n            const {\n              useInfiniteQuery,\n              useInfiniteQuerySubscription,\n              useInfiniteQueryState\n            } = buildInfiniteQueryHooks(endpointName);\n            safeAssign(anyApi.endpoints[endpointName], {\n              useInfiniteQuery,\n              useInfiniteQuerySubscription,\n              useInfiniteQueryState\n            });\n            api[`use${capitalize(endpointName)}InfiniteQuery`] = useInfiniteQuery;\n          }\n        }\n      };\n    }\n  };\n};\n\n// src/query/react/index.ts\nexport * from \"@reduxjs/toolkit/query\";\n\n// src/query/react/ApiProvider.tsx\nimport { configureStore, formatProdErrorMessage as _formatProdErrorMessage4 } from \"@reduxjs/toolkit\";\nimport { useContext } from \"react\";\nimport { useEffect as useEffect4 } from \"react\";\nimport * as React from \"react\";\nimport { Provider, ReactReduxContext } from \"react-redux\";\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\nfunction ApiProvider(props) {\n  const context = props.context || ReactReduxContext;\n  const existingContext = useContext(context);\n  if (existingContext) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? _formatProdErrorMessage4(35) : \"Existing Redux context detected. If you already have a store set up, please use the traditional Redux setup.\");\n  }\n  const [store] = React.useState(() => configureStore({\n    reducer: {\n      [props.api.reducerPath]: props.api.reducer\n    },\n    middleware: (gDM) => gDM().concat(props.api.middleware)\n  }));\n  useEffect4(() => props.setupListeners === false ? void 0 : setupListeners(store.dispatch, props.setupListeners), [props.setupListeners, store.dispatch]);\n  return /* @__PURE__ */ React.createElement(Provider, { store, context }, props.children);\n}\n\n// src/query/react/index.ts\nvar createApi = /* @__PURE__ */ buildCreateApi(coreModule(), reactHooksModule());\nexport {\n  ApiProvider,\n  UNINITIALIZED_VALUE,\n  createApi,\n  reactHooksModule,\n  reactHooksModuleName\n};\n//# sourceMappingURL=rtk-query-react.modern.mjs.map","const tagTypes = [\n  // These are the tags for the common models used throughout our system.\n  // https://github.com/ocadotechnology/codeforlife-package-python/tree/main/codeforlife/user/models\n  // NOTE: Don't use the \"Teacher\" and \"Student\" tags. Use \"User\" instead.\n  \"User\",\n  \"School\",\n  \"Class\",\n  \"AuthFactor\",\n] as const\n\nexport default tagTypes\nexport type TagTypes = (typeof tagTypes)[number]\n","import {\n  type Api,\n  type BaseQueryApi,\n  type FetchArgs,\n  type FetchBaseQueryError,\n  type FetchBaseQueryMeta,\n  type MutationDefinition,\n  type QueryReturnValue,\n  createApi as _createApi,\n  type coreModuleName,\n  fetchBaseQuery,\n  type reactHooksModuleName,\n} from \"@reduxjs/toolkit/query/react\"\n\nimport defaultTagTypes, { type TagTypes as DefaultTagTypes } from \"./tagTypes\"\nimport { SERVICE_API_URL } from \"../settings\"\nimport { buildLogoutEndpoint } from \"./endpoints/session\"\nimport { getCsrfCookie } from \"../utils/auth\"\nimport { isSafeHttpMethod } from \"../utils/api\"\n\n// TODO: decide if we want to keep any of this.\n// export function handleResponseError(error: FetchBaseQueryError): void {\n//   if (\n//     error.status === 400 &&\n//     typeof error.data === \"object\" &&\n//     error.data !== null\n//   ) {\n//     // Parse the error's data from snake_case to camelCase.\n//     snakeCaseToCamelCase(error.data)\n//   } else if (error.status === 401) {\n//     // TODO: redirect to appropriate login page based on user type.\n//     window.location.href = `${PORTAL_BASE_URL}/login/teacher`\n//   } else {\n//     // Catch-all error pages by status-code.\n//     window.location.href = `${PORTAL_BASE_URL}/error/${\n//       [403, 404].includes(error.status as number) ? error.status : 500\n//     }`\n//   }\n// }\n\nexport default function createApi<TagTypes extends string = never>({\n  tagTypes = [],\n}: {\n  tagTypes?: readonly TagTypes[]\n} = {}): Api<\n  (\n    args: string | FetchArgs,\n    api: BaseQueryApi,\n    extraOptions: {},\n  ) => Promise<\n    QueryReturnValue<unknown, FetchBaseQueryError, FetchBaseQueryMeta>\n  >,\n  { logout: MutationDefinition<null, any, any, null, any, any> },\n  \"api\",\n  TagTypes | DefaultTagTypes,\n  typeof coreModuleName | typeof reactHooksModuleName\n> {\n  const fetch = fetchBaseQuery({\n    baseUrl: `${SERVICE_API_URL}/`,\n    credentials: \"include\",\n    prepareHeaders: (headers, endpoint) => {\n      const { type, arg } = endpoint as typeof endpoint & {\n        arg: string | FetchArgs\n      }\n      const method = typeof arg === \"string\" ? \"GET\" : arg.method || \"GET\"\n\n      if (type === \"mutation\" || !isSafeHttpMethod(method)) {\n        const csrfToken = getCsrfCookie()\n        if (csrfToken) headers.set(\"x-csrftoken\", csrfToken)\n      }\n\n      return headers\n    },\n  })\n\n  const api = _createApi({\n    // https://redux-toolkit.js.org/rtk-query/usage/customizing-queries#implementing-a-custom-basequery\n    baseQuery: async (args: string | FetchArgs, api, extraOptions) => {\n      if (api.type === \"mutation\" && getCsrfCookie() === undefined) {\n        // Get the CSRF token.\n        const { error } = await fetch(\n          { url: \"/csrf/cookie/\", method: \"GET\" },\n          api,\n          {},\n        )\n\n        // Validate we got the CSRF token.\n        if (error !== undefined) {\n          console.error(error)\n          // TODO\n          // window.location.href = `${PORTAL_BASE_URL}/error/500`\n        }\n        if (getCsrfCookie() === undefined) {\n          // TODO\n          // window.location.href = `${PORTAL_BASE_URL}/error/500`\n        }\n      }\n\n      // Send the HTTP request and fetch the response.\n      return await fetch(args, api, extraOptions)\n    },\n    tagTypes: [...defaultTagTypes, ...tagTypes],\n    endpoints: () => ({}),\n  })\n\n  return api.injectEndpoints({\n    endpoints: build => ({\n      logout: buildLogoutEndpoint<null, null>(api, build),\n    }),\n  })\n}\n"],"names":["capitalize","str","countObjectKeys","obj","count","_key","isQueryDefinition","e","isMutationDefinition","isInfiniteQueryDefinition","safeAssign","target","args","UNINITIALIZED_VALUE","useStableQueryArgs","queryArgs","serialize","endpointDefinition","endpointName","incoming","useMemo","cache","useRef","useEffect","useShallowStableValue","value","useRef2","useEffect2","shallowEqual","canUseDOM","isDOM","isRunningInReactNative","isReactNative","getUseIsomorphicLayoutEffect","useLayoutEffect","useEffect3","useIsomorphicLayoutEffect","noPendingQueryStateSelector","selected","QueryStatus","pick","keys","ret","key","COMMON_HOOK_DEBUG_FIELDS","buildHooks","api","batch","useDispatch","useSelector","useStore","unstable__sideEffectsInRender","createSelector","serializeQueryArgs","context","usePossiblyImmediateEffect","cb","buildQueryHooks","buildInfiniteQueryHooks","buildMutationHook","usePrefetch","queryStatePreSelector","currentState","lastResult","skipToken","data","hasData","isFetching","isLoading","isSuccess","infiniteQueryStatePreSelector","defaultOptions","dispatch","stableDefaultOptions","useCallback","arg","options","useQuerySubscriptionCommonImpl","refetchOnReconnect","refetchOnFocus","refetchOnMountOrArgChange","skip","pollingInterval","skipPollingIfUnfocused","rest","initiate","subscriptionSelectorsRef","useRef3","returnedValue","_formatProdErrorMessage","stableArg","defaultSerializeQueryArgs","stableSubscriptionOptions","initialPageParam","stableInitialPageParam","promiseRef","queryCacheKey","requestId","currentRenderHasSubscription","subscriptionRemoved","lastPromise","lastSubscriptionOptions","promise","buildUseQueryState","preSelector","selectFromResult","select","lastValue","selectDefaultResult","useMemo2","_","shallowEqual2","querySelector","state","store","newLastValue","usePromiseRefUnsubscribeOnUnmount","refetchOrErrorIfUnmounted","_formatProdErrorMessage2","useQuerySubscription","useLazyQuerySubscription","setArg","useState","subscriptionOptionsRef","trigger","arg2","preferCacheValue","reset","useQueryState","queryStateResults","info","querySubscriptionResults","debugValue","useDebugValue","useInfiniteQuerySubscription","direction","refetch","useInfiniteQueryState","fetchNextPage","fetchPreviousPage","name","fixedCacheKey","setPromise","triggerMutation","promise2","mutationSelector","originalArgs","finalState","reactHooksModuleName","reactHooksModule","rrBatch","hooks","rrUseDispatch","rrUseSelector","rrUseStore","_createSelector","hookNames","warned","hookName","_formatProdErrorMessage3","anyApi","definition","useQuery","useLazyQuery","useMutation","useInfiniteQuery","createApi","buildCreateApi","coreModule","tagTypes","fetch","fetchBaseQuery","SERVICE_API_URL","headers","endpoint","type","method","isSafeHttpMethod","csrfToken","getCsrfCookie","_createApi","extraOptions","error","defaultTagTypes","build","buildLogoutEndpoint"],"mappings":"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","x_google_ignoreList":[0]}