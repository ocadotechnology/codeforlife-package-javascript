"use strict";const h=require("./jsx-runtime-CeSfJrVB.cjs"),b=require("@mui/material"),F=require("react"),Vt=require("./urls-6zCrlmYG.cjs"),qt=require("./api-DIgp_6Vr.cjs"),_=require("formik"),A=require("yup"),T=require("./general-De_FOi2q.cjs");require("./en-gb-CpyEkKq3.cjs");const yt=require("@mui/x-date-pickers"),Y=require("dayjs"),st=require("@mui/icons-material");require("@reduxjs/toolkit/query/react");require("./settings/index.cjs.js");require("./session-CE2U7oL1.cjs");require("js-cookie");const $t=require("./schemas-BIW_xzuS.cjs");function q(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}const bt=({useLazyListQuery:r,filterOptions:o,getOptionLabel:s,getOptionKey:t=a=>a.id,searchKey:e,...i})=>{const[a,u]=F.useState(""),[n,{isLoading:d,isError:c}]=r(),[{limit:x,offset:p},g]=qt.usePagination(),[{options:E,hasMore:M},f]=F.useState({options:{},hasMore:!0});F.useEffect(()=>{const j={limit:x,offset:p,...o};a&&(j[e]=a),n(j,!0).unwrap().then(({data:O,offset:k,limit:D,count:w})=>{f(({options:C})=>{const R={...C};return O.forEach(L=>{R[t(L)]=L}),{options:R,hasMore:k+D<w}})}).catch(O=>{O&&console.error(O)})},[n,x,p,e,a,...Object.values(o||{})]);let l=Object.keys(E);if(!l.length)return h.jsxRuntimeExports.jsx(h.jsxRuntimeExports.Fragment,{});typeof t(Object.values(E)[0])=="number"&&(l=l.map(Number));function m(){g(({page:j,limit:O})=>({page:j+1,limit:O}))}const y=({children:j,...O},k)=>{const D=F.Children.toArray(j);return d?D.push(h.jsxRuntimeExports.jsx(b.CircularProgress,{},"is-loading")):(c&&D.push(h.jsxRuntimeExports.jsx(Vt.SyncError,{},"is-error")),M&&D.push(h.jsxRuntimeExports.jsx(b.Button,{onClick:m,children:"Load more"},"load-more"))),h.jsxRuntimeExports.jsx("ul",{...O,ref:k,onScroll:w=>{!d&&w.currentTarget.clientHeight+w.currentTarget.scrollTop>=w.currentTarget.scrollHeight&&m()},children:D})};return h.jsxRuntimeExports.jsx(H,{options:l,getOptionLabel:j=>s(E[j]),onInputChange:(j,O,k)=>{u(k==="input"?O:"")},ListboxComponent:F.forwardRef(y),...i})};function Ht(r){return typeof r=="object"&&r!==null&&"status"in r&&r.status===400&&"data"in r&&typeof r.data=="object"&&r.data!==null}function Wt(r,o){if(!Ht(r))throw r;const s=Object.fromEntries(Object.entries(r.data).map(([t,e])=>(Array.isArray(e)&&(e=e.join(". ")),[t,e])));o(s)}function Gt(r,o,s){const{include:t,onlyDirtyValues:e=!1,then:i,catch:a,finally:u}=s||{};let{exclude:n=[]}=s||{};return(d,c)=>{let x=s&&s.clean?s.clean(d):d;e&&(n=[...n,...Xt(d,o).filter(p=>!n.includes(p))]),t&&(n=n.filter(p=>!t.includes(p))),n.length&&(x=T.excludeKeyPaths(x,n)),r(x).unwrap().then(p=>{i&&i(p,d,c)}).catch(p=>{a&&a(p,d,c),Wt(p,c.setErrors)}).finally(()=>{u&&u(d,c)})}}function $(r,o){return async s=>{try{await r.validate(s,o)}catch(t){if(t instanceof A.ValidationError)return t.errors.join(". ");throw t}}}function Zt(r,o,s){return s||(s=T.getKeyPaths(r)),Object.fromEntries(s.map(t=>[t,Kt(r,o,t)]))}function Kt(r,o,s){const t=T.getNestedProperty(r,s),e=T.getNestedProperty(o,s);return t!==e}function Xt(r,o,s){return Object.entries(Zt(r,o,s)).filter(([t,e])=>!e).map(([t])=>t)}const H=({textFieldProps:r,options:o,validateOptions:s,...t})=>{const{id:e,name:i,required:a,...u}=r,n=i.split("."),d="not a valid option";let c=typeof o[0]=="string"?A.string().oneOf(o,d):A.number().oneOf(o,d);a&&(c=c.required());const x={name:i,type:typeof o[0]=="string"?"text":"number",validate:$(c,s)};return h.jsxRuntimeExports.jsx(_.Field,{...x,children:({form:p,meta:g})=>{const E=T.getNestedProperty(p.values,n),M=T.getNestedProperty(p.touched,n),f=T.getNestedProperty(p.errors,n);return h.jsxRuntimeExports.jsx(b.Autocomplete,{options:o,defaultValue:g.initialValue===""?void 0:g.initialValue,renderInput:({id:l,...m})=>h.jsxRuntimeExports.jsx(b.TextField,{id:e??i,name:i,required:a,type:"text",value:E,error:M&&!!f,helperText:M&&f,...u,...m}),onChange:(l,m)=>{p.setFieldValue(i,m??void 0,!0)},onBlur:p.handleBlur,...t})}})},wt=({id:r,name:o,formControlLabelProps:s,required:t=!1,errorMessage:e="this is a required field",validateOptions:i,...a})=>{const u=o.split(".");let n=A.bool();t&&(n=n.oneOf([!0],e));const d={name:o,type:"checkbox",validate:$(n,i)};return h.jsxRuntimeExports.jsx(_.Field,{...d,children:({form:c,meta:x})=>{const p=T.getNestedProperty(c.touched,u),g=T.getNestedProperty(c.errors,u),E=T.getNestedProperty(c.values,u),M=p&&!!g;return h.jsxRuntimeExports.jsxs(b.FormControl,{error:M,required:t,children:[h.jsxRuntimeExports.jsx(b.FormControlLabel,{control:h.jsxRuntimeExports.jsx(b.Checkbox,{defaultChecked:x.initialValue,id:r??o,name:o,value:E,onChange:c.handleChange,onBlur:c.handleBlur,...a}),...s}),M&&h.jsxRuntimeExports.jsx(b.FormHelperText,{children:g})]})}})},Dt=({textFieldProps:r,...o})=>{const{name:s="country",label:t="Country",placeholder:e="Select your country",...i}=r||{};return h.jsxRuntimeExports.jsx(H,{options:T.COUNTRY_ISO_CODES,getOptionLabel:a=>T.COUNTRY_ISO_CODE_MAPPING[a],textFieldProps:{name:s,label:t,placeholder:e,...i},...o})};function ft(){return ft=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var t in s)({}).hasOwnProperty.call(s,t)&&(r[t]=s[t])}return r},ft.apply(null,arguments)}var Q={exports:{}},Qt=Q.exports,gt;function Jt(){return gt||(gt=1,(function(r,o){(function(s,t){r.exports=t()})(Qt,(function(){var s="week",t="year";return function(e,i,a){var u=i.prototype;u.week=function(n){if(n===void 0&&(n=null),n!==null)return this.add(7*(n-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=a(this).startOf(t).add(1,t).date(d),x=a(this).endOf(s);if(c.isBefore(x))return 1}var p=a(this).startOf(t).date(d).startOf(s).subtract(1,"millisecond"),g=this.diff(p,s,!0);return g<0?a(this).startOf("week").week():Math.ceil(g)},u.weeks=function(n){return n===void 0&&(n=null),this.week(n)}}}))})(Q)),Q.exports}var te=Jt();const ee=q(te);var J={exports:{}},re=J.exports,jt;function se(){return jt||(jt=1,(function(r,o){(function(s,t){r.exports=t()})(re,(function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,e=/\d/,i=/\d\d/,a=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,n={},d=function(f){return(f=+f)+(f>68?1900:2e3)},c=function(f){return function(l){this[f]=+l}},x=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=(function(l){if(!l||l==="Z")return 0;var m=l.match(/([+-]|\d\d)/g),y=60*m[1]+(+m[2]||0);return y===0?0:m[0]==="+"?-y:y})(f)}],p=function(f){var l=n[f];return l&&(l.indexOf?l:l.s.concat(l.f))},g=function(f,l){var m,y=n.meridiem;if(y){for(var j=1;j<=24;j+=1)if(f.indexOf(y(j,0,l))>-1){m=j>12;break}}else m=f===(l?"pm":"PM");return m},E={A:[u,function(f){this.afternoon=g(f,!1)}],a:[u,function(f){this.afternoon=g(f,!0)}],Q:[e,function(f){this.month=3*(f-1)+1}],S:[e,function(f){this.milliseconds=100*+f}],SS:[i,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[a,c("seconds")],ss:[a,c("seconds")],m:[a,c("minutes")],mm:[a,c("minutes")],H:[a,c("hours")],h:[a,c("hours")],HH:[a,c("hours")],hh:[a,c("hours")],D:[a,c("day")],DD:[i,c("day")],Do:[u,function(f){var l=n.ordinal,m=f.match(/\d+/);if(this.day=m[0],l)for(var y=1;y<=31;y+=1)l(y).replace(/\[|\]/g,"")===f&&(this.day=y)}],w:[a,c("week")],ww:[i,c("week")],M:[a,c("month")],MM:[i,c("month")],MMM:[u,function(f){var l=p("months"),m=(p("monthsShort")||l.map((function(y){return y.slice(0,3)}))).indexOf(f)+1;if(m<1)throw new Error;this.month=m%12||m}],MMMM:[u,function(f){var l=p("months").indexOf(f)+1;if(l<1)throw new Error;this.month=l%12||l}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(f){this.year=d(f)}],YYYY:[/\d{4}/,c("year")],Z:x,ZZ:x};function M(f){var l,m;l=f,m=n&&n.formats;for(var y=(f=l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(R,L,v){var S=v&&v.toUpperCase();return L||m[v]||s[v]||m[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(z,N,B){return N||B.slice(1)}))}))).match(t),j=y.length,O=0;O<j;O+=1){var k=y[O],D=E[k],w=D&&D[0],C=D&&D[1];y[O]=C?{regex:w,parser:C}:k.replace(/^\[|\]$/g,"")}return function(R){for(var L={},v=0,S=0;v<j;v+=1){var z=y[v];if(typeof z=="string")S+=z.length;else{var N=z.regex,B=z.parser,W=R.slice(S),U=N.exec(W)[0];B.call(L,U),R=R.replace(U,"")}}return(function(I){var G=I.afternoon;if(G!==void 0){var P=I.hours;G?P<12&&(I.hours+=12):P===12&&(I.hours=0),delete I.afternoon}})(L),L}}return function(f,l,m){m.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(d=f.parseTwoDigitYear);var y=l.prototype,j=y.parse;y.parse=function(O){var k=O.date,D=O.utc,w=O.args;this.$u=D;var C=w[1];if(typeof C=="string"){var R=w[2]===!0,L=w[3]===!0,v=R||L,S=w[2];L&&(S=w[2]),n=this.$locale(),!R&&S&&(n=m.Ls[S]),this.$d=(function(W,U,I,G){try{if(["x","X"].indexOf(U)>-1)return new Date((U==="X"?1e3:1)*W);var P=M(U)(W),nt=P.year,Z=P.month,Nt=P.day,_t=P.hours,Bt=P.minutes,It=P.seconds,Ut=P.milliseconds,pt=P.zone,xt=P.week,it=new Date,ot=Nt||(nt||Z?1:it.getDate()),at=nt||it.getFullYear(),K=0;nt&&!Z||(K=Z>0?Z-1:it.getMonth());var X,ut=_t||0,ct=Bt||0,dt=It||0,lt=Ut||0;return pt?new Date(Date.UTC(at,K,ot,ut,ct,dt,lt+60*pt.offset*1e3)):I?new Date(Date.UTC(at,K,ot,ut,ct,dt,lt)):(X=new Date(at,K,ot,ut,ct,dt,lt),xt&&(X=G(X).week(xt).toDate()),X)}catch{return new Date("")}})(k,C,D,m),this.init(),S&&S!==!0&&(this.$L=this.locale(S).$L),v&&k!=this.format(C)&&(this.$d=new Date("")),n={}}else if(C instanceof Array)for(var z=C.length,N=1;N<=z;N+=1){w[1]=C[N-1];var B=m.apply(this,w);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}N===z&&(this.$d=new Date(""))}else j.call(this,O)}}}))})(J)),J.exports}var ne=se();const ie=q(ne);var tt={exports:{}},oe=tt.exports,Mt;function ae(){return Mt||(Mt=1,(function(r,o){(function(s,t){r.exports=t()})(oe,(function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,e,i){var a=e.prototype,u=a.format;i.en.formats=s,a.format=function(n){n===void 0&&(n="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,c=(function(x,p){return x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(g,E,M){var f=M&&M.toUpperCase();return E||p[M]||s[M]||p[f].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(l,m,y){return m||y.slice(1)}))}))})(n,d===void 0?{}:d);return u.call(this,c)}}}))})(tt)),tt.exports}var ue=ae();const ce=q(ue);var et={exports:{}},de=et.exports,Tt;function le(){return Tt||(Tt=1,(function(r,o){(function(s,t){r.exports=t()})(de,(function(){return function(s,t,e){t.prototype.isBetween=function(i,a,u,n){var d=e(i),c=e(a),x=(n=n||"()")[0]==="(",p=n[1]===")";return(x?this.isAfter(d,u):!this.isBefore(d,u))&&(p?this.isBefore(c,u):!this.isAfter(c,u))||(x?this.isBefore(d,u):!this.isAfter(d,u))&&(p?this.isAfter(c,u):!this.isBefore(c,u))}}}))})(et)),et.exports}var he=le();const fe=q(he);var rt={exports:{}},me=rt.exports,Ot;function pe(){return Ot||(Ot=1,(function(r,o){(function(s,t){r.exports=t()})(me,(function(){return function(s,t){var e=t.prototype,i=e.format;e.format=function(a){var u=this,n=this.$locale();if(!this.isValid())return i.bind(this)(a);var d=this.$utils(),c=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(x){switch(x){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return n.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return n.ordinal(u.week(),"W");case"w":case"ww":return d.s(u.week(),x==="w"?1:2,"0");case"W":case"WW":return d.s(u.isoWeek(),x==="W"?1:2,"0");case"k":case"kk":return d.s(String(u.$H===0?24:u.$H),x==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return x}}));return i.bind(this)(c)}}}))})(rt)),rt.exports}var xe=pe();const ye=q(xe),Et=new Set;function ge(r,o="warning"){if(process.env.NODE_ENV==="production")return;const s=Array.isArray(r)?r.join(`
`):r;Et.has(s)||(Et.add(s),o==="error"?console.error(s):console.warn(s))}Y.extend(ce);Y.extend(ee);Y.extend(fe);Y.extend(ye);const je={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Me={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},ht=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Yt=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),Te=(r,o)=>o?(...s)=>r(...s).locale(o):r;class Oe{constructor({locale:o,formats:s}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=je,this.setLocaleToValue=t=>{const e=this.getCurrentLocaleCode();return e===t.locale()?t:t.locale(e)},this.hasUTCPlugin=()=>typeof Y.utc<"u",this.hasTimezonePlugin=()=>typeof Y.tz<"u",this.isSame=(t,e,i)=>{const a=this.setTimezone(e,this.getTimezone(t));return t.format(i)===a.format(i)},this.cleanTimezone=t=>{switch(t){case"default":return;case"system":return Y.tz.guess();default:return t}},this.createSystemDate=t=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const e=Y.tz.guess();return e!=="UTC"?Y.tz(t,e):Y(t)}return Y(t)},this.createUTCDate=t=>{if(!this.hasUTCPlugin())throw new Error(ht);return Y.utc(t)},this.createTZDate=(t,e)=>{if(!this.hasUTCPlugin())throw new Error(ht);if(!this.hasTimezonePlugin())throw new Error(Yt);const i=t!==void 0&&!t.endsWith("Z");return Y(t).tz(this.cleanTimezone(e),i)},this.getLocaleFormats=()=>{const t=Y.Ls,e=this.locale||"en";let i=t[e];return i===void 0&&(process.env.NODE_ENV!=="production"&&ge(["MUI X: Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale.","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale."]),i=t.en),i.formats},this.adjustOffset=t=>{if(!this.hasTimezonePlugin())return t;const e=this.getTimezone(t);if(e!=="UTC"){const i=t.tz(this.cleanTimezone(e),!0);if(i.$offset===(t.$offset??0))return t;t.$offset=i.$offset}return t},this.date=(t,e="default")=>{if(t===null)return null;let i;return e==="UTC"?i=this.createUTCDate(t):e==="system"||e==="default"&&!this.hasTimezonePlugin()?i=this.createSystemDate(t):i=this.createTZDate(t,e),this.locale===void 0?i:i.locale(this.locale)},this.getInvalidDate=()=>Y(new Date("Invalid date")),this.getTimezone=t=>{if(this.hasTimezonePlugin()){const e=t.$x?.$timezone;if(e)return e}return this.hasUTCPlugin()&&t.isUTC()?"UTC":"system"},this.setTimezone=(t,e)=>{if(this.getTimezone(t)===e)return t;if(e==="UTC"){if(!this.hasUTCPlugin())throw new Error(ht);return t.utc()}if(e==="system")return t.local();if(!this.hasTimezonePlugin()){if(e==="default")return t;throw new Error(Yt)}return Y.tz(t,this.cleanTimezone(e))},this.toJsDate=t=>t.toDate(),this.parse=(t,e)=>t===""?null:this.dayjs(t,e,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=t=>{const e=this.getLocaleFormats(),i=a=>a.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(u,n,d)=>n||d.slice(1));return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(a,u,n)=>{const d=n&&n.toUpperCase();return u||e[n]||i(e[d])})},this.isValid=t=>t==null?!1:t.isValid(),this.format=(t,e)=>this.formatByString(t,this.formats[e]),this.formatByString=(t,e)=>this.dayjs(t).format(e),this.formatNumber=t=>t,this.isEqual=(t,e)=>t===null&&e===null?!0:t===null||e===null?!1:t.toDate().getTime()===e.toDate().getTime(),this.isSameYear=(t,e)=>this.isSame(t,e,"YYYY"),this.isSameMonth=(t,e)=>this.isSame(t,e,"YYYY-MM"),this.isSameDay=(t,e)=>this.isSame(t,e,"YYYY-MM-DD"),this.isSameHour=(t,e)=>t.isSame(e,"hour"),this.isAfter=(t,e)=>t>e,this.isAfterYear=(t,e)=>this.hasUTCPlugin()?!this.isSameYear(t,e)&&t.utc()>e.utc():t.isAfter(e,"year"),this.isAfterDay=(t,e)=>this.hasUTCPlugin()?!this.isSameDay(t,e)&&t.utc()>e.utc():t.isAfter(e,"day"),this.isBefore=(t,e)=>t<e,this.isBeforeYear=(t,e)=>this.hasUTCPlugin()?!this.isSameYear(t,e)&&t.utc()<e.utc():t.isBefore(e,"year"),this.isBeforeDay=(t,e)=>this.hasUTCPlugin()?!this.isSameDay(t,e)&&t.utc()<e.utc():t.isBefore(e,"day"),this.isWithinRange=(t,[e,i])=>t>=e&&t<=i,this.startOfYear=t=>this.adjustOffset(t.startOf("year")),this.startOfMonth=t=>this.adjustOffset(t.startOf("month")),this.startOfWeek=t=>this.adjustOffset(this.setLocaleToValue(t).startOf("week")),this.startOfDay=t=>this.adjustOffset(t.startOf("day")),this.endOfYear=t=>this.adjustOffset(t.endOf("year")),this.endOfMonth=t=>this.adjustOffset(t.endOf("month")),this.endOfWeek=t=>this.adjustOffset(this.setLocaleToValue(t).endOf("week")),this.endOfDay=t=>this.adjustOffset(t.endOf("day")),this.addYears=(t,e)=>this.adjustOffset(e<0?t.subtract(Math.abs(e),"year"):t.add(e,"year")),this.addMonths=(t,e)=>this.adjustOffset(e<0?t.subtract(Math.abs(e),"month"):t.add(e,"month")),this.addWeeks=(t,e)=>this.adjustOffset(e<0?t.subtract(Math.abs(e),"week"):t.add(e,"week")),this.addDays=(t,e)=>this.adjustOffset(e<0?t.subtract(Math.abs(e),"day"):t.add(e,"day")),this.addHours=(t,e)=>this.adjustOffset(e<0?t.subtract(Math.abs(e),"hour"):t.add(e,"hour")),this.addMinutes=(t,e)=>this.adjustOffset(e<0?t.subtract(Math.abs(e),"minute"):t.add(e,"minute")),this.addSeconds=(t,e)=>this.adjustOffset(e<0?t.subtract(Math.abs(e),"second"):t.add(e,"second")),this.getYear=t=>t.year(),this.getMonth=t=>t.month(),this.getDate=t=>t.date(),this.getHours=t=>t.hour(),this.getMinutes=t=>t.minute(),this.getSeconds=t=>t.second(),this.getMilliseconds=t=>t.millisecond(),this.setYear=(t,e)=>this.adjustOffset(t.set("year",e)),this.setMonth=(t,e)=>this.adjustOffset(t.set("month",e)),this.setDate=(t,e)=>this.adjustOffset(t.set("date",e)),this.setHours=(t,e)=>this.adjustOffset(t.set("hour",e)),this.setMinutes=(t,e)=>this.adjustOffset(t.set("minute",e)),this.setSeconds=(t,e)=>this.adjustOffset(t.set("second",e)),this.setMilliseconds=(t,e)=>this.adjustOffset(t.set("millisecond",e)),this.getDaysInMonth=t=>t.daysInMonth(),this.getWeekArray=t=>{const e=this.startOfWeek(this.startOfMonth(t)),i=this.endOfWeek(this.endOfMonth(t));let a=0,u=e;const n=[];for(;u<i;){const d=Math.floor(a/7);n[d]=n[d]||[],n[d].push(u),u=this.addDays(u,1),a+=1}return n},this.getWeekNumber=t=>t.week(),this.getYearRange=([t,e])=>{const i=this.startOfYear(t),a=this.endOfYear(e),u=[];let n=i;for(;this.isBefore(n,a);)u.push(n),n=this.addYears(n,1);return u},this.dayjs=Te(Y,o),this.locale=o,this.formats=ft({},Me,s),Y.extend(ie)}getDayOfWeek(o){return o.day()+1}}const Ft=({name:r,required:o,minDate:s,maxDate:t,validateOptions:e,...i})=>{const a=r.split(".");function u(c){return c.locale("en-gb").format("L")}let n=A.date();o&&(n=n.required()),s&&(n=n.min(s,`this field must be after or equal to ${u(s)}`)),t&&(n=n.max(t,`this field must be before or equal to ${u(t)}`));const d={name:r,type:"date",validate:$(n,e)};return h.jsxRuntimeExports.jsx(_.Field,{...d,children:({form:c})=>{const x=T.getNestedProperty(c.errors,a),p=T.getNestedProperty(c.touched,a);let g=T.getNestedProperty(c.values,a);g=g?Y(g):null;function E(M){c.setFieldValue(r,M&&M.isValid()?M.format("YYYY-MM-DD"):null,!0)}return h.jsxRuntimeExports.jsx(yt.LocalizationProvider,{dateAdapter:Oe,adapterLocale:"en-gb",children:h.jsxRuntimeExports.jsx(yt.DatePicker,{name:r,value:g,minDate:s,maxDate:t,onChange:E,slotProps:{textField:{id:r,onChange:M=>{E(M)},onBlur:c.handleBlur,required:o,error:p&&!!x,helperText:p&&x}},...i})})}})},V=({id:r,name:o,schema:s,type:t="text",required:e=!1,dirty:i=!1,unique:a=!1,uniqueCaseInsensitive:u=!1,split:n,validateOptions:d,...c})=>{const[x,p]=F.useState(""),g=o.split(".");function E(){let l=s;if(l=e?l.required():l.optional(),i&&!n&&(l=l.notOneOf([x],"cannot be initial value")),!n)return l;let m=A.array().of(l);return m=e?m.required().min(1):m.optional(),(a||u)&&(m=m.test({message:"cannot have duplicates",test:y=>Array.isArray(y)&&y.length>=2&&y.every(j=>typeof j=="string")?new Set(u?y.map(j=>j.toLowerCase()):y).size===y.length:!0})),i&&(m=m.notOneOf([x],"cannot be initial value")),m}const M={name:o,type:t,validate:$(E(),d)},f=({form:l})=>{const m=T.getNestedProperty(l.initialValues,g),y=T.getNestedProperty(l.values,g),j=T.getNestedProperty(l.errors,g),O=T.getNestedProperty(l.touched,g);return F.useEffect(()=>{p(m)},[m]),F.useEffect(()=>{l.setFieldValue(o,n&&typeof y=="string"?y.split(n):y,!0)},[y]),h.jsxRuntimeExports.jsx(b.TextField,{id:r??o,name:o,type:t,required:e,value:y,onChange:l.handleChange,onBlur:l.handleBlur,error:O&&!!j,helperText:O&&j,...c})};return h.jsxRuntimeExports.jsx(_.Field,{...M,children:f})},Pt=({name:r="email",label:o="Email address",placeholder:s="Enter your email address",InputProps:t={},...e})=>h.jsxRuntimeExports.jsx(V,{type:"email",schema:A.string().email(),name:r,label:o,placeholder:s,InputProps:{endAdornment:h.jsxRuntimeExports.jsx(b.InputAdornment,{position:"end",children:h.jsxRuntimeExports.jsx(st.EmailOutlined,{})}),...t},...e}),kt=({name:r="first_name",label:o="First name",placeholder:s="Enter your first name",InputProps:t={},...e})=>h.jsxRuntimeExports.jsx(V,{schema:$t.user.first_name,name:r,label:o,placeholder:s,InputProps:{endAdornment:h.jsxRuntimeExports.jsx(b.InputAdornment,{position:"end",children:h.jsxRuntimeExports.jsx(st.PersonOutlined,{})}),...t},...e}),Ct={behavior:"smooth",block:"start"},Ee=({scrollIntoViewOptions:r=Ct,...o})=>{const s=F.useRef(null);return F.useEffect(()=>{s.current&&s.current.scrollIntoView(r)},[r]),h.jsxRuntimeExports.jsx(b.FormHelperText,{ref:s,error:!0,...o})},Lt=({children:r,scrollIntoViewOptions:o=Ct,nonFieldErrorsProps:s,fieldRefs:t=[],...e})=>h.jsxRuntimeExports.jsx(_.Formik,{...e,children:i=>{const a=!!Object.keys(i.errors).length,u=a&&typeof i.errors.__all__=="string";if(a&&!u&&i.isSubmitting&&t.length){const n=T.getKeyPaths(i.errors),d=t.find(({name:c})=>n.includes(c))?.inputRef.current;d&&d.scrollIntoView(o)}return h.jsxRuntimeExports.jsxs(h.jsxRuntimeExports.Fragment,{children:[u&&h.jsxRuntimeExports.jsx(Ee,{...s,children:i.errors.__all__}),h.jsxRuntimeExports.jsx(_.Form,{children:typeof r=="function"?r(i):r})]})}}),Ye=({useMutation:r,submitOptions:o,...s})=>{const[t]=r();return h.jsxRuntimeExports.jsx(Lt,{...s,onSubmit:Gt(t,s.initialValues,o)})},St=r=>"onSubmit"in r?h.jsxRuntimeExports.jsx(Lt,{...r}):Ye(r),Rt=({name:r="otp",label:o="OTP",placeholder:s="Enter your OTP",...t})=>h.jsxRuntimeExports.jsx(V,{name:r,label:o,schema:A.string().matches(/^[0-9]{6}$/,"Must be exactly 6 digits."),placeholder:s,required:!0,...t}),be=({id:r,repeatName:o,setValue:s,fieldProps:t,name:e,label:i,placeholder:a,type:u,...n})=>{const{form:d}=t,c=e.split("."),x=T.getNestedProperty(d.values,c),p=o.split("."),g=T.getNestedProperty(d.values,p),E=T.getNestedProperty(d.touched,p),M=T.getNestedProperty(d.errors,p);return F.useEffect(()=>{s(x)},[s,x]),h.jsxRuntimeExports.jsx(b.TextField,{required:!0,type:u,label:i??`Repeat ${e.replace("_"," ")}`,placeholder:a??`Enter your ${e.replace("_"," ")} again`,id:r??o,name:o,value:g,onChange:d.handleChange,onBlur:d.handleBlur,error:E&&!!M,helperText:E&&M,...n})},mt=({name:r,type:o="text",validateOptions:s,...t})=>{const[e,i]=F.useState(""),a=`${r}_repeat`,u={name:a,type:o,validate:$(A.string().required().equals([e],"does not match"),s)};return h.jsxRuntimeExports.jsx(_.Field,{...u,children:n=>h.jsxRuntimeExports.jsx(be,{name:r,type:o,repeatName:a,setValue:i,fieldProps:n,...t})})},vt=({name:r="password",label:o="Password",placeholder:s="Enter your password",schema:t=A.string(),InputProps:e={},withRepeatField:i=!1,repeatFieldProps:a={},...u})=>{const[n,d]=F.useState(!1),c=n?"text":"password",x=h.jsxRuntimeExports.jsx(b.InputAdornment,{position:"end",children:h.jsxRuntimeExports.jsx(b.IconButton,{onClick:()=>{d(p=>!p)},edge:"end",children:n?h.jsxRuntimeExports.jsx(st.Visibility,{}):h.jsxRuntimeExports.jsx(st.VisibilityOff,{})})});return h.jsxRuntimeExports.jsxs(h.jsxRuntimeExports.Fragment,{children:[h.jsxRuntimeExports.jsx(V,{autoComplete:"off",type:c,name:r,label:o,schema:t,placeholder:s,InputProps:{endAdornment:x,...e},...u}),i&&h.jsxRuntimeExports.jsx(mt,{name:r,type:c,...a,InputProps:{endAdornment:x,...a.InputProps}})]})},At=({children:r="Submit",...o})=>{function s(t,e){e=e||{};for(const i in t){const a=t[i];e[i]=a instanceof Object&&a.constructor===Object?s(a,e):!0}return e}return h.jsxRuntimeExports.jsx(_.Field,{name:"submit",type:"submit",children:({form:t})=>h.jsxRuntimeExports.jsx(b.Button,{type:"button",onClick:()=>{t.setTouched(s(t.values),!0).then(e=>{const i=!!(e&&Object.keys(e).length);t.setSubmitting(i),i||t.submitForm()})},...o,children:r})})},zt=({textFieldProps:r,...o})=>{const{name:s="uk_county",label:t="UK county",placeholder:e="Select your UK county",...i}=r||{};return h.jsxRuntimeExports.jsx(H,{options:T.UK_COUNTIES,textFieldProps:{name:s,label:t,placeholder:e,...i},...o})},we=Object.freeze(Object.defineProperty({__proto__:null,ApiAutocompleteField:bt,AutocompleteField:H,CheckboxField:wt,CountryField:Dt,DatePickerField:Ft,EmailField:Pt,FirstNameField:kt,Form:St,OtpField:Rt,PasswordField:vt,RepeatField:mt,SubmitButton:At,TextField:V,UkCountyField:zt},Symbol.toStringTag,{value:"Module"}));exports.ApiAutocompleteField=bt;exports.AutocompleteField=H;exports.CheckboxField=wt;exports.CountryField=Dt;exports.DatePickerField=Ft;exports.EmailField=Pt;exports.FirstNameField=kt;exports.Form=St;exports.OtpField=Rt;exports.PasswordField=vt;exports.RepeatField=mt;exports.SubmitButton=At;exports.TextField=V;exports.UkCountyField=zt;exports.index=we;
//# sourceMappingURL=index-FqHODSvh.cjs.map
